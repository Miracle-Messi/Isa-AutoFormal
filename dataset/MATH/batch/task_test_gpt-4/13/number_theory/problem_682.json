{
    "natural problem": "Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$?",
    "natural solution": [
        "We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\",
        "\\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}"
    ],
    "natural answer": "2",
    "a_0": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"invertible_mod n (a * b)\"\nand h2 : \"inverse_mod n (a * b) = 2 mod n\"\nand h3 : \"invertible_mod n (a + b)\"\nshows  \"inverse_mod n (a + b) * (inverse_mod n a + inverse_mod n b) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"invertible_mod n (a * b)\"\nand h2 : \"inverse_mod n (a * b) = 2 mod n\"\nand h3 : \"invertible_mod n (a + b)\"\nshows  \"inverse_mod n (a + b) * (inverse_mod n a + inverse_mod n b) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "For any integers $a$, $b$, and $n$ with $n \\geq 3$, if $ab$ and $a + b$ are invertible modulo $n$, and the modular inverse of $ab$ is congruent to $2$ modulo $n$, then what is the value of the expression $\\left[(a+b)^{-1} \\cdot (a^{-1} + b^{-1})\\right] \\mod n$? The final answer is $2$."
    },
    "a_1": {
        "formal problem": "theorem\nfixes n a b :: int\nassumes h0 : \"n > 2\"\nand h1 : \"invertible (a * b) n\"\nand h2 : \"[inv (a * b) = 2] (mod n)\"\nand h3 : \"invertible (a + b) n\"\nshows  \"[inv (a + b) * (inv a + inv b) = 2] (mod n)\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes n a b :: int\nassumes h0 : \"n > 2\"\nand h1 : \"invertible (a * b) n\"\nand h2 : \"[inv (a * b) = 2] (mod n)\"\nand h3 : \"invertible (a + b) n\"\nshows  \"[inv (a + b) * (inv a + inv b) = 2] (mod n)\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Assume that $n$ is an integer greater than 2. If $a$ and $b$ are integers such that the product $ab$ and the sum $a+b$ have modular inverses modulo $n$, and if the modular inverse of $ab$ is congruent to 2 modulo $n$, prove that the product of the modular inverses of $a+b$ and $a+b$ is congruent to 2 modulo $n$."
    },
    "a_2": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n \\<noteq> 0\"\nand h2 : \"inverse (a * b mod n) mod n = 2\"\nand h3 : \"a + b mod n \\<noteq> 0\"\nshows  \"inverse ((a + b) mod n) * (inverse (a mod n) + inverse (b mod n)) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n \\<noteq> 0\"\nand h2 : \"inverse (a * b mod n) mod n = 2\"\nand h3 : \"a + b mod n \\<noteq> 0\"\nshows  \"inverse ((a + b) mod n) * (inverse (a mod n) + inverse (b mod n)) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Assume $a$, $b$, and $n$ are integers and $n \\geq 3$. If the remainder of the product of $a$ and $b$ divided by $n$ is not zero, and the remainder of the inverse of the remainder of the product of $a$ and $b$ divided by $n$ is 2, and the remainder of the sum of $a$ and $b$ divided by $n$ is not zero, then show that the remainder of the product of the inverse of the remainder of the sum of $a$ and $b$ divided by $n$ and the sum of the inverses of the remainders of $a$ and $b$ divided by $n$ is 2."
    },
    "a_3": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"\\<exists> k. a * b = n * k + 1\"\nand h2 : \"\\<exists> k. (a * b)^-1 = n * k + 2\"\nand h3 : \"\\<exists> k. a + b = n * k + 1\"\nshows  \"\\<exists> k. (a + b)^-1 * ((a^-1) + (b^-1)) = n * k + 2\" (* remainder when (a+b)^-1(a^-1 + b^-1) is divided by n is 2 *)",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"\\<exists> k. a * b = n * k + 1\"\nand h2 : \"\\<exists> k. (a * b)^-1 = n * k + 2\"\nand h3 : \"\\<exists> k. a + b = n * k + 1\"\nshows  \"\\<exists> k. (a + b)^-1 * ((a^-1) + (b^-1)) = n * k + 2\" (* remainder when (a+b)^-1(a^-1 + b^-1) is divided by n is 2 *)\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given that $n \\geq 3$, $a * b = n * k + 1$ for some integer $k$, $(a * b)^{-1} = n * k + 2$ for some integer $k$, and $a + b = n * k + 1$ for some integer $k$, find an integer $k$ such that when $(a + b)^{-1} * ((a^{-1}) + (b^{-1}))$ is divided by $n$, the remainder is $2$."
    },
    "a_4": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n = 1\"\nand h2 : \"(a * b mod n) mod n = 2\"\nand h3 : \"(a + b) mod n = 1\"\nand h4 : \"((a + b) mod n) * ((a mod n) + (b mod n)) mod n = 1\"\nshows  \"((a + b) mod n) * ((a mod n) + (b mod n)) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n = 1\"\nand h2 : \"(a * b mod n) mod n = 2\"\nand h3 : \"(a + b) mod n = 1\"\nand h4 : \"((a + b) mod n) * ((a mod n) + (b mod n)) mod n = 1\"\nshows  \"((a + b) mod n) * ((a mod n) + (b mod n)) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Let $a$, $b$, and $n$ be integers with $n \\geq 3$. If the following conditions are met:\n\n1. The modulus of the product of $a$ and $b$ by $n$ equals 1,\n2. The modulus of the modulus of the product of $a$ and $b$ by $n$ by $n$ equals 2,\n3. The modulus of the sum of $a$ and $b$ by $n$ equals 1,\n4. The modulus of the product of the modulus of the sum of $a$ and $b$ by $n$ and the sum of the modulus of $a$ by $n$ and the modulus of $b$ by $n$ by $n$ equals 1.\n\nThen, does the modulus of the product of the modulus of the sum of $a$ and $b$ by $n$ and the sum of the modulus of $a$ by $n$ and the modulus of $b$ by $n$ by $n$ equal 2?"
    },
    "a_5": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n = 2\"\nand h2 : \"is_unit (a + b)\"\nshows  \"((a + b) * (inverse a + inverse b)) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n = 2\"\nand h2 : \"is_unit (a + b)\"\nshows  \"((a + b) * (inverse a + inverse b)) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given that $n \\geq 3$ and $ab \\mod n = 2$, and $a+b$ is a unit (i.e., has a multiplicative inverse), find the modulus of $(a + b)(\\frac{1}{a} + \\frac{1}{b})$ with respect to $n$. The final answer is $2$."
    },
    "a_6": {
        "formal problem": "theorem\nfixes n a b :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n = 1\"\nand h2 : \"a mod n + b mod n = 1\"\nand h3 : \"(a + b) mod n = 1\"\nshows  \"((a + b) * (a mod n + b mod n)) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes n a b :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n = 1\"\nand h2 : \"a mod n + b mod n = 1\"\nand h3 : \"(a + b) mod n = 1\"\nshows  \"((a + b) * (a mod n + b mod n)) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given integers $a$, $b$, and $n$ such that $n \\geq 3$, $ab \\mod n = 1$, $a \\mod n + b \\mod n = 1$, and $(a + b) \\mod n = 1$, find the value of $((a + b) * (a \\mod n + b \\mod n)) \\mod n$. The final answer is $2$."
    },
    "a_7": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n > 2\"\nand h1 : \"inverts (a * b) 2 n\"\nand h2 : \"is_unit (a + b)\"\nshows  \"[(inverts (a + b) 1 * (inverts a 1 + inverts b 1)) mod n = 2] (mod n)\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n > 2\"\nand h1 : \"inverts (a * b) 2 n\"\nand h2 : \"is_unit (a + b)\"\nshows  \"[(inverts (a + b) 1 * (inverts a 1 + inverts b 1)) mod n = 2] (mod n)\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given that $n > 2$, $a$, and $b$ are such that $(a*b)^{-2}$ is an integer modulo $n$ and $a + b$ is a unit. Show that the inverse of $a + b$ times the sum of the inverses of $a$ and $b$, all modulo $n$, is congruent to $2$ modulo $n$."
    },
    "a_8": {
        "formal problem": "theorem\nfixes a b n :: int\nassumes h0 : \"n >= 3\"\nand h1 : \"a * b mod n = 1\"\nand h2 : \"(a * b mod n)^-1 = 2 mod n\"\nand h3 : \"(a + b mod n)^-1 mod n exists\"\nshows  \"((a + b mod n)^-1 * (a^-1 + b^-1 mod n)) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes a b n :: int\nassumes h0 : \"n >= 3\"\nand h1 : \"a * b mod n = 1\"\nand h2 : \"(a * b mod n)^-1 = 2 mod n\"\nand h3 : \"(a + b mod n)^-1 mod n exists\"\nshows  \"((a + b mod n)^-1 * (a^-1 + b^-1 mod n)) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given integers $a$, $b$, and $n$ with $n \\geq 3$. If the modulus of the product of $a$ and $b$ with $n$ equals $1$, and the inverse of this modulus equals the modulus of $2$ with $n$, and the inverse of the modulus of the sum of $a$ and $b$ with $n$ exists, then show that the modulus of the product of this inverse and the sum of the inverses of $a$ and $b$ with $n$ equals $2$."
    },
    "a_9": {
        "formal problem": "theorem\nfixes n a b :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n \\<noteq> 0\"\nand h2 : \"(a * b) mod n = inv 2 mod n\"\nand h3 : \"a + b mod n \\<noteq> 0\"\nshows  \"(inv (a + b) * (inv a + inv b)) mod n = 2\"",
        "formal solution": "(* ### Problem\n Let $n$ be a positive integer greater than or equal to $3$. Let $a,b$ be integers such that $ab$ is invertible modulo $n$ and $(ab)^{-1}\\equiv 2\\pmod n$. Given $a+b$ is invertible, what is the remainder when $(a+b)^{-1}(a^{-1}+b^{-1})$ is divided by $n$? The final Answer is 2\n ### Proof\n We can use the fact that $x\\cdot x^{-1}\\equiv 1\\pmod n$ for all invertible $x$ in the following clever way: \\begin{align} & (a+b)^{-1}(a^{-1}+b^{-1})\\\\ \\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n \\equiv~ & (a+b)^{-1}(a^{-1}ab+abb^{-1})(ab)^{-1}\\\\ \\equiv~ & (a+b)^{-1}(a+b)(ab)^{-1}\\\\ \\equiv~ & (ab)^{-1}\\\\ \\equiv~ & \\boxed{2}\\pmod n \\end{align}\n *)\n\ntheorem\nfixes n a b :: int\nassumes h0 : \"n \\<ge> 3\"\nand h1 : \"a * b mod n \\<noteq> 0\"\nand h2 : \"(a * b) mod n = inv 2 mod n\"\nand h3 : \"a + b mod n \\<noteq> 0\"\nshows  \"(inv (a + b) * (inv a + inv b)) mod n = 2\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given three integers $n$, $a$, $b$ with $n \\geq 3$, if the product of $a$ and $b$ modulo $n$ is not equal to zero and equals to the inverse of $2$ modulo $n$, and the sum of $a$ and $b$ modulo $n$ is not equal to zero, then show that the product of the inverse of the sum of $a$ and $b$ and the sum of the inverse of $a$ and the inverse of $b$, all modulo $n$, equals $2$."
    },
    "level": "Level 5",
    "type": "Number Theory"
}