{
    "natural problem": "The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy]",
    "natural solution": [
        "The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\",
        "\\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.",
        "This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.",
        "The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$"
    ],
    "natural answer": "41",
    "a_0": {
        "formal problem": "(* Note: The following Isabelle statement is a simplification of the problem as it cannot represent the complete graph. *)\ntheorem\nfixes f g h a b :: \"real \\<Rightarrow> real\"\nassumes h0 : \"a = -5\"\nand h1 : \"b = 6\"\nand h2 : \"\\<forall> x. f x = (if x \\<le> -3 then x + 1\n                        else if x \\<le> -1 then -x + 3\n                        else if x \\<le> 1 then x - 3\n                        else if x \\<le> 3 then -x + 5\n                        else x - 3)\"\nand h3 : \"\\<forall> x. g x = f x + a * x\"\nand h4 : \"\\<forall> x. h x = f x + b * x\"\nand h5 : \"bij g\"\nand h6 : \"bij h\"\nshows  \"a * a + b * b = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\n(* Note: The following Isabelle statement is a simplification of the problem as it cannot represent the complete graph. *)\ntheorem\nfixes f g h a b :: \"real \\<Rightarrow> real\"\nassumes h0 : \"a = -5\"\nand h1 : \"b = 6\"\nand h2 : \"\\<forall> x. f x = (if x \\<le> -3 then x + 1\n                        else if x \\<le> -1 then -x + 3\n                        else if x \\<le> 1 then x - 3\n                        else if x \\<le> 3 then -x + 5\n                        else x - 3)\"\nand h3 : \"\\<forall> x. g x = f x + a * x\"\nand h4 : \"\\<forall> x. h x = f x + b * x\"\nand h5 : \"bij g\"\nand h6 : \"bij h\"\nshows  \"a * a + b * b = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a piecewise-defined function $f(x)$ as follows:\n\n$$\nf(x) = \\begin{cases}\nx + 1, & \\text{if } x \\le -3 \\\\\n-x + 3, & \\text{if } -3 < x \\le -1 \\\\\nx - 3, & \\text{if } -1 < x \\le 1 \\\\\n-x + 5, & \\text{if } 1 < x \\le 3 \\\\\nx - 3, & \\text{if } x > 3\n\\end{cases}\n$$\n\nNow, let $g(x) = f(x) - 5x$ and $h(x) = f(x) + 6x$. Given that both $g$ and $h$ are bijections (one-to-one and onto functions), find the value of $a^2 + b^2$, where $a = -5$ and $b = 6$. The final answer is $41$."
    },
    "a_1": {
        "formal problem": "theorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nand a b :: real\nassumes h0 : \"a = -4\"\nand h1 : \"b = 3\"\nand h2 : \"\\<forall> x. f x = (\n  if x \\<le> -2 then -2 * x - 9\n  else if x \\<le> -1 then x + 3\n  else if x \\<le> 1 then -2 * x + 1\n  else if x \\<le> 3 then x - 1\n  else 0)\"\nand h3 : \"\\<forall> x. g x = f x + a * x\"\nand h4 : \"\\<forall> x. h x = f x + b * x\"\nand h5 : \"bij g\"\nand h6 : \"bij h\"\nshows  \"a\\<^sup>2 + b\\<^sup>2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nand a b :: real\nassumes h0 : \"a = -4\"\nand h1 : \"b = 3\"\nand h2 : \"\\<forall> x. f x = (\n  if x \\<le> -2 then -2 * x - 9\n  else if x \\<le> -1 then x + 3\n  else if x \\<le> 1 then -2 * x + 1\n  else if x \\<le> 3 then x - 1\n  else 0)\"\nand h3 : \"\\<forall> x. g x = f x + a * x\"\nand h4 : \"\\<forall> x. h x = f x + b * x\"\nand h5 : \"bij g\"\nand h6 : \"bij h\"\nshows  \"a\\<^sup>2 + b\\<^sup>2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a function $f(x)$ defined as follows:\n- If $x \\leq -2$, then $f(x) = -2x - 9$.\n- If $-2 < x \\leq -1$, then $f(x) = x + 3$.\n- If $-1 < x \\leq 1$, then $f(x) = -2x + 1$.\n- If $1 < x \\leq 3$, then $f(x) = x - 1$.\n- If $x > 3$, then $f(x) = 0$.\n\nNow, let $a = -4$ and $b = 3$. Define two functions $g(x) = f(x) + ax$ and $h(x) = f(x) + bx$.\n\nGiven that both $g$ and $h$ are bijections, find the value of $a^2 + b^2$. The final answer is $41$."
    },
    "a_2": {
        "formal problem": "theorem\nfixes f g h a b x :: real\nassumes h0 : \"a < 0\"\nand h1 : \"b > 0\"\nand h2 : \"a = (GREATEST a. \\<exists> f g x. g x = f x + a * x)\"\nand h3 : \"b = (LEAST b. \\<exists> f h x. h x = f x + b * x)\"\nand h4 : \"bij g\"\nand h5 : \"bij h\"\nshows  \"a^2 + b^2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes f g h a b x :: real\nassumes h0 : \"a < 0\"\nand h1 : \"b > 0\"\nand h2 : \"a = (GREATEST a. \\<exists> f g x. g x = f x + a * x)\"\nand h3 : \"b = (LEAST b. \\<exists> f h x. h x = f x + b * x)\"\nand h4 : \"bij g\"\nand h5 : \"bij h\"\nshows  \"a^2 + b^2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given that $a$ is the greatest possible value such that there exists a function $g(x)$ that satisfies $g(x) = f(x) + ax$ for some $f(x)$ and $x$, where $a < 0$, and $b$ is the least possible value such that there exists a function $h(x)$ that satisfies $h(x) = f(x) + bx$ for some $f(x)$ and $x$, where $b > 0$. If both $g$ and $h$ are bijections, find the sum of $a^2 + b^2$. The final answer is $41$."
    },
    "a_3": {
        "formal problem": "theorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"f x = (if x \\<le> -2 then 3 * x + 11\n                  else if x \\<le> -1 then -2 * x + 1\n                  else if x \\<le> 1 then -3 * x - 2\n                  else if x \\<le> 3 then x + 3\n                  else x)\"\nand h1 : \"\\<forall> x. g x = f x + a * x\"\nand h2 : \"\\<forall> x. h x = f x + b * x\"\nand h3 : \"bij g\"\nand h4 : \"bij h\"\nand h5 : \"a \\<le> -1\"\nand h6 : \"b \\<ge> 1\"\nshows  \"a ^ 2 + b ^ 2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"f x = (if x \\<le> -2 then 3 * x + 11\n                  else if x \\<le> -1 then -2 * x + 1\n                  else if x \\<le> 1 then -3 * x - 2\n                  else if x \\<le> 3 then x + 3\n                  else x)\"\nand h1 : \"\\<forall> x. g x = f x + a * x\"\nand h2 : \"\\<forall> x. h x = f x + b * x\"\nand h3 : \"bij g\"\nand h4 : \"bij h\"\nand h5 : \"a \\<le> -1\"\nand h6 : \"b \\<ge> 1\"\nshows  \"a ^ 2 + b ^ 2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Define a piecewise function $f(x)$ as follows:\n\n$f(x) = \\begin{cases}\n3x + 11, & \\text{if } x \\le -2 \\\\\n-2x + 1, & \\text{if } -2 < x \\le -1 \\\\\n-3x - 2, & \\text{if } -1 < x \\le 1 \\\\\nx + 3, & \\text{if } 1 < x \\le 3 \\\\\nx, & \\text{if } x > 3\n\\end{cases}$\n\nNow, consider two other functions $g(x) = f(x) + ax$ and $h(x) = f(x) + bx$. Both $g(x)$ and $h(x)$ are bijections, with $a \\le -1$ and $b \\ge 1$. Find the value of $a^2 + b^2$. The final answer is $41$."
    },
    "a_4": {
        "formal problem": "theorem\nfixes a b :: int and f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"bij g\"\nand h1 : \"bij h\"\nand h2 : \"\\<forall>x. g x = f x + a * x\"\nand h3 : \"\\<forall>x. h x = f x + b * x\"\nand h4 : \"a = -5\"\nand h5 : \"b = 6\"\nshows  \"a^2 + b^2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes a b :: int and f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"bij g\"\nand h1 : \"bij h\"\nand h2 : \"\\<forall>x. g x = f x + a * x\"\nand h3 : \"\\<forall>x. h x = f x + b * x\"\nand h4 : \"a = -5\"\nand h5 : \"b = 6\"\nshows  \"a^2 + b^2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider two functions $g(x)$ and $h(x)$ such that $g(x) = f(x) - 5x$ and $h(x) = f(x) + 6x$. If $g(x)$ and $h(x)$ are both bijections, find the value of $(-5)^2 + 6^2$."
    },
    "a_5": {
        "formal problem": "theorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"f (-5) = -4\"\nand h1 : \"f (-2) = 5\"\nand h2 : \"f (-1) = 3\"\nand h3 : \"f 1 = -5\"\nand h4 : \"f 3 = 2\"\nand h5 : \"f 5 = 2\"\nand h6 : \"bij g\"\nand h7 : \"\\<forall>x. g x = f x + a * x\"\nand h8 : \"a \\<le> -1\"\nand h9 : \"bij h\"\nand h10 : \"\\<forall>x. h x = f x + b * x\"\nand h11 : \"b \\<ge> 1\"\nshows  \"a\\<^sup>2 + b\\<^sup>2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"f (-5) = -4\"\nand h1 : \"f (-2) = 5\"\nand h2 : \"f (-1) = 3\"\nand h3 : \"f 1 = -5\"\nand h4 : \"f 3 = 2\"\nand h5 : \"f 5 = 2\"\nand h6 : \"bij g\"\nand h7 : \"\\<forall>x. g x = f x + a * x\"\nand h8 : \"a \\<le> -1\"\nand h9 : \"bij h\"\nand h10 : \"\\<forall>x. h x = f x + b * x\"\nand h11 : \"b \\<ge> 1\"\nshows  \"a\\<^sup>2 + b\\<^sup>2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a function $f$ with the following values: $f(-5)=-4$, $f(-2)=5$, $f(-1)=3$, $f(1)=-5$, $f(3)=2$, and $f(5)=2$. Let $g(x) = f(x) + ax$ be a bijective function, where $a \\leq -1$. Also, let $h(x) = f(x) + bx$ be another bijective function, where $b \\geq 1$. Find the sum of the squares of $a$ and $b$. The final answer is $41$."
    },
    "a_6": {
        "formal problem": "theorem\nfixes a b :: real and f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"a < 0\"\nand h1 : \"a = -max a b\"\nand h2 : \"b > 0\"\nand h3 : \"bij g\"\nand h4 : \"bij h\"\nand h5 : \"\\<forall> x. g x = f x + a * x\"\nand h6 : \"\\<forall> x. h x = f x + b * x\"\nshows  \"a^2 + b^2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes a b :: real and f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"a < 0\"\nand h1 : \"a = -max a b\"\nand h2 : \"b > 0\"\nand h3 : \"bij g\"\nand h4 : \"bij h\"\nand h5 : \"\\<forall> x. g x = f x + a * x\"\nand h6 : \"\\<forall> x. h x = f x + b * x\"\nshows  \"a^2 + b^2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given a function $f(x)$ and two constants $a$ and $b$, where $a < 0$ and $b > 0$, we have two new functions $g(x)$ and $h(x)$ defined as $g(x) = f(x) + ax$ and $h(x) = f(x) + bx$. Additionally, $a = -max(a, b)$. If both $g(x)$ and $h(x)$ are bijections, find the value of $a^2 + b^2$. The final answer is $41$."
    },
    "a_7": {
        "formal problem": "theorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"\\<forall> x. f x = (if x \\<le> -2 then -x - 4\n                        else if x \\<le> -1 then x + 5\n                        else if x \\<le> 1 then -x - 1\n                        else if x \\<le> 3 then x + 3\n                        else x - 1)\"\nand h1 : \"\\<forall> x. g x = f x + a * x\"\nand h2 : \"\\<forall> x. h x = f x + b * x\"\nand h3 : \"bij g\"\nand h4 : \"bij h\"\nand h5 : \"a \\<in> {x \\<in> \\<int>. x \\<le> -1}\"\nand h6 : \"b \\<in> {x \\<in> \\<int>. x \\<ge> 1}\"\nshows  \"a^2 + b^2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes f g h :: \"real \\<Rightarrow> real\"\nassumes h0 : \"\\<forall> x. f x = (if x \\<le> -2 then -x - 4\n                        else if x \\<le> -1 then x + 5\n                        else if x \\<le> 1 then -x - 1\n                        else if x \\<le> 3 then x + 3\n                        else x - 1)\"\nand h1 : \"\\<forall> x. g x = f x + a * x\"\nand h2 : \"\\<forall> x. h x = f x + b * x\"\nand h3 : \"bij g\"\nand h4 : \"bij h\"\nand h5 : \"a \\<in> {x \\<in> \\<int>. x \\<le> -1}\"\nand h6 : \"b \\<in> {x \\<in> \\<int>. x \\<ge> 1}\"\nshows  \"a^2 + b^2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a function $f(x)$ defined as follows:\n- $f(x) = -x - 4$ if $x \\leq -2$\n- $f(x) = x + 5$ if $-2 < x \\leq -1$\n- $f(x) = -x - 1$ if $-1 < x \\leq 1$\n- $f(x) = x + 3$ if $1 < x \\leq 3$\n- $f(x) = x - 1$ if $x > 3$\n\nNow consider two new functions $g(x) = f(x) + ax$ and $h(x) = f(x) + bx$, where $a$ and $b$ are integers such that $a \\leq -1$ and $b \\geq 1$. If both $g(x)$ and $h(x)$ are bijections (one-to-one and onto), find the value of $a^2 + b^2$. The final answer is 41."
    },
    "a_8": {
        "formal problem": "theorem\nfixes f g h a b :: \"real \\<Rightarrow> real\"\nassumes h0 : \"bij f\"\nand h1 : \"\\<forall>x. g x = f x + a * x\"\nand h2 : \"\\<forall>x. h x = f x + b * x\"\nand h3 : \"a = -5\"\nand h4 : \"b = 6\"\nand h5 : \"bij g\"\nand h6 : \"bij h\"\nshows  \"a^2 + b^2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes f g h a b :: \"real \\<Rightarrow> real\"\nassumes h0 : \"bij f\"\nand h1 : \"\\<forall>x. g x = f x + a * x\"\nand h2 : \"\\<forall>x. h x = f x + b * x\"\nand h3 : \"a = -5\"\nand h4 : \"b = 6\"\nand h5 : \"bij g\"\nand h6 : \"bij h\"\nshows  \"a^2 + b^2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given two functions $g(x) = f(x) + ax$ and $h(x) = f(x) + bx$, where $f(x)$ is a bijective function, $a = -5$, and $b = 6$. If both $g(x)$ and $h(x)$ are also bijective functions, find the value of $a^2 + b^2$. The final answer is $41$."
    },
    "a_9": {
        "formal problem": "theorem\nfixes a b f :: \"real \\<Rightarrow> real\"\nassumes h0 : \"f = (\\<lambda>x. piecewise \n                            {(-5, -4), (-2, 5), (-1, 3), (1, -5), (3, 2), (5, 2)} (\\<lambda>x. f x))\"\nand h1 : \"bij (g x) = bij (f x + a * x)\"\nand h2 : \"bij (h x) = bij (f x + b * x)\"\nand h3 : \"a = -5\"\nand h4 : \"b = 1\"\nshows  \"a^2 + b^2 = 41\"",
        "formal solution": "(* ### Problem\n The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy] The final Answer is 41\n ### Proof\n The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c} \\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n \\\\ \\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. & \\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope.\n This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n The largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$\n *)\n\ntheorem\nfixes a b f :: \"real \\<Rightarrow> real\"\nassumes h0 : \"f = (\\<lambda>x. piecewise \n                            {(-5, -4), (-2, 5), (-1, 3), (1, -5), (3, 2), (5, 2)} (\\<lambda>x. f x))\"\nand h1 : \"bij (g x) = bij (f x + a * x)\"\nand h2 : \"bij (h x) = bij (f x + b * x)\"\nand h3 : \"a = -5\"\nand h4 : \"b = 1\"\nshows  \"a^2 + b^2 = 41\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given a function $f(x)$ defined piecewise by \n$f(x) = \\begin{cases}\n  -5, & x=-5 \\\\\n  -4, & x=-2 \\\\\n   5, & x=-1 \\\\\n   3, & x=1 \\\\\n  -5, & x=3 \\\\\n   2, & x=5 \\\\\n\\end{cases}$\n\nFind the values of $a$ and $b$ such that the bijections $g(x) = f(x) + ax$ and $h(x) = f(x) + bx$ are also bijections. Given that $a = -5$ and $b = 1$, find the value of $a^2 + b^2$. The final answer is $41$."
    },
    "level": "Level 5",
    "type": "Algebra"
}