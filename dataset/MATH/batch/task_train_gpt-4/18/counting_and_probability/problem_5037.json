{
    "natural problem": "There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n",
    "natural solution": [
        "For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.",
        "Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.",
        "To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$",
        "We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.",
        "Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.",
        "Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.",
        "We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$."
    ],
    "natural answer": "650",
    "a_0": {
        "formal problem": "theorem\nfixes step :: nat and positions :: \"nat \\<Rightarrow> char list\"\nassumes h0 : \"positions 0 = ['A']\"\nand h1 : \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 1000 \\<longrightarrow> (positions (i - 1) = ['A'] \\<longrightarrow> positions i = ['B']) \\<and> (positions (i - 1) = ['B'] \\<longrightarrow> positions i = ['C']) \\<and> (positions (i - 1) = ['C'] \\<longrightarrow> positions i = ['D']) \\<and> (positions (i - 1) = ['D'] \\<longrightarrow> positions i = ['A'])\"\nand h2 : \"\\<forall>i j. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> 1 \\<le> j \\<and> j \\<le> 1000 \\<and> j dvd i \\<longrightarrow> positions i = positions j\"\nand h3 : \"step = 1000\"\nand h4 : \"card {i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> positions i = ['A']} = 650\"\nshows  \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> positions i = ['A'] \\<longrightarrow> i \\<in> {i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> positions i = ['A']}\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes step :: nat and positions :: \"nat \\<Rightarrow> char list\"\nassumes h0 : \"positions 0 = ['A']\"\nand h1 : \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 1000 \\<longrightarrow> (positions (i - 1) = ['A'] \\<longrightarrow> positions i = ['B']) \\<and> (positions (i - 1) = ['B'] \\<longrightarrow> positions i = ['C']) \\<and> (positions (i - 1) = ['C'] \\<longrightarrow> positions i = ['D']) \\<and> (positions (i - 1) = ['D'] \\<longrightarrow> positions i = ['A'])\"\nand h2 : \"\\<forall>i j. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> 1 \\<le> j \\<and> j \\<le> 1000 \\<and> j dvd i \\<longrightarrow> positions i = positions j\"\nand h3 : \"step = 1000\"\nand h4 : \"card {i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> positions i = ['A']} = 650\"\nshows  \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> positions i = ['A'] \\<longrightarrow> i \\<in> {i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> positions i = ['A']}\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Starting at position A, you take 1000 steps. At each step, you move to the next position in the sequence A -> B -> C -> D -> A, and so on. If you are at the same position after i and j steps, where i and j are both between 1 and 1000, and j divides i, then the position after i steps is the same as the position after j steps. After 1000 steps, you have been at position A 650 times. List all the steps from 1 to 1000 where you are at position A."
    },
    "a_1": {
        "formal problem": "theorem\nfixes switches :: \"nat \\<Rightarrow> (nat \\<times> nat \\<times> nat \\<times> nat)\"\nassumes h0 : \"switches = (\\<lambda>i. (2^(i mod 10), 3^((i div 10) mod 10), 5^((i div 100) mod 10), 0))\"\nand h1 : \"\\<forall>i < 1000. switches (Suc i) = \n  (let (x, y, z, s) = switches i in\n   if (\\<exists>j\\<le>i. x * y * z dvd (switches j) ! 0 * (switches j) ! 1 * (switches j) ! 2)\n   then (x, y, z, s mod 4 + 1)\n   else (x, y, z, s))\"\nshows  \"card {i. i < 1000 \\<and> (switches i) ! 3 = 0} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes switches :: \"nat \\<Rightarrow> (nat \\<times> nat \\<times> nat \\<times> nat)\"\nassumes h0 : \"switches = (\\<lambda>i. (2^(i mod 10), 3^((i div 10) mod 10), 5^((i div 100) mod 10), 0))\"\nand h1 : \"\\<forall>i < 1000. switches (Suc i) = \n  (let (x, y, z, s) = switches i in\n   if (\\<exists>j\\<le>i. x * y * z dvd (switches j) ! 0 * (switches j) ! 1 * (switches j) ! 2)\n   then (x, y, z, s mod 4 + 1)\n   else (x, y, z, s))\"\nshows  \"card {i. i < 1000 \\<and> (switches i) ! 3 = 0} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a sequence of switches with 1000 elements, where each switch is a 4-tuple $(x, y, z, s)$. The first three elements of the tuple are defined as follows: \n\n1. $x = 2^{i \\bmod{10}}$\n2. $y = 3^{(i \\div{10}) \\bmod{10}}$\n3. $z = 5^{(i \\div{100}) \\bmod{10}}$\n\nFor each $i \\in \\{1, 2, \\dots, 999\\}$, update the 4th element of the tuple as follows:\n\n- If there exists a $j \\leq i$ such that $x \\cdot y \\cdot z$ divides the product of the first three elements of the $j$-th switch, then set $s = s \\bmod{4} + 1$.\n- Otherwise, keep $s$ unchanged.\n\nFind the number of switches with $s = 0$ among the first 1000 switches. The final answer is 650."
    },
    "a_2": {
        "formal problem": "theorem\nfixes switch_positions :: \"nat \\<Rightarrow> nat \\<Rightarrow> nat\"\nassumes h0 : \"switch_positions 0 = (\\<lambda>_. 1)\"\nand h1 : \"\\<forall>i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<longrightarrow> switch_positions i = (\\<lambda>j. if j \\<in> {p. \\<exists>x y z. p = (2^x) * (3^y) * (5^z) \\<and> x \\<in> {0..9} \\<and> y \\<in> {0..9} \\<and> z \\<in> {0..9} \\<and> (2^(nat i))^3 * (3^(nat i))^5 * (5^(nat i)) mod p = 0} then (switch_positions (i-1) j + 1) mod 4 else switch_positions (i-1) j)\"\nshows  \"card {i. i \\<in> {1..1000} \\<and> switch_positions 1000 i = 1} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes switch_positions :: \"nat \\<Rightarrow> nat \\<Rightarrow> nat\"\nassumes h0 : \"switch_positions 0 = (\\<lambda>_. 1)\"\nand h1 : \"\\<forall>i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<longrightarrow> switch_positions i = (\\<lambda>j. if j \\<in> {p. \\<exists>x y z. p = (2^x) * (3^y) * (5^z) \\<and> x \\<in> {0..9} \\<and> y \\<in> {0..9} \\<and> z \\<in> {0..9} \\<and> (2^(nat i))^3 * (3^(nat i))^5 * (5^(nat i)) mod p = 0} then (switch_positions (i-1) j + 1) mod 4 else switch_positions (i-1) j)\"\nshows  \"card {i. i \\<in> {1..1000} \\<and> switch_positions 1000 i = 1} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a sequence of 1000 switches numbered from 1 to 1000, each switch can be in one of four positions (0, 1, 2, or 3). The switches are initially all in position 1. For each i from 1 to 1000, the positions of the switches with indices j that satisfy the following condition are updated:\n\nj is a positive integer that can be expressed as $p = 2^x * 3^y * 5^z$, where $x, y, z$ are integers between 0 and 9, inclusive, and $(2^i)^3 * (3^i)^5 * (5^i)$ is divisible by p.\n\nThe update consists of incrementing the current position of the switch (j) by 1 modulo 4. How many switches are in position 1 after all the updates have been applied? The final answer is 650."
    },
    "a_3": {
        "formal problem": "theorem\nfixes switches :: \"(int \\<Rightarrow> char) list\" and step :: \"int \\<Rightarrow> int \\<Rightarrow> char\"\nassumes h0 : \"\\<forall> i \\<in> {1..1000}. switches ! i = 'A'\"\nand h1 : \"\\<forall> i \\<in> {1..1000}. step i 'A' = 'B' \\<and> step i 'B' = 'C' \\<and> step i 'C' = 'D' \\<and> step i 'D' = 'A'\"\nand h2 : \"\\<forall> i \\<in> {1..1000}. \\<forall> j \\<in> {1..1000}. i dvd j \\<longrightarrow> switches ! j := step i (switches ! j)\"\nshows  \"card {i. i \\<in> {1..1000} \\<and> switches ! i = 'A'} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes switches :: \"(int \\<Rightarrow> char) list\" and step :: \"int \\<Rightarrow> int \\<Rightarrow> char\"\nassumes h0 : \"\\<forall> i \\<in> {1..1000}. switches ! i = 'A'\"\nand h1 : \"\\<forall> i \\<in> {1..1000}. step i 'A' = 'B' \\<and> step i 'B' = 'C' \\<and> step i 'C' = 'D' \\<and> step i 'D' = 'A'\"\nand h2 : \"\\<forall> i \\<in> {1..1000}. \\<forall> j \\<in> {1..1000}. i dvd j \\<longrightarrow> switches ! j := step i (switches ! j)\"\nshows  \"card {i. i \\<in> {1..1000} \\<and> switches ! i = 'A'} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1000 switches initially set to position 'A'. Each switch has 4 positions: 'A', 'B', 'C', and 'D'. For every pair of integers $i$ and $j$ from 1 to 1000, if $i$ divides $j$, then the switch at position $j$ moves to the next position, following the sequence 'A' -> 'B' -> 'C' -> 'D' -> 'A'. After completing all the steps, how many switches are in position 'A'? The final answer is 650."
    },
    "a_4": {
        "formal problem": "theorem\nfixes num_switches :: nat and step :: nat\nassumes h0 : \"num_switches = 1000\"\nand h1 : \"\\<forall> x y z. 0 \\<le> x \\<and> x \\<le> 9 \\<and> 0 \\<le> y \\<and> y \\<le> 9 \\<and> 0 \\<le> z \\<and> z \\<le> 9\"\nand h2 : \"\\<forall> i. 1 \\<le> i \\<and> i \\<le> num_switches \\<longrightarrow> (switch i = (2 powr (x i)) * (3 powr (y i)) * (5 powr (z i)))\"\nand h3 : \"\\<forall> i. 1 \\<le> i \\<and> i \\<le> 1000 \\<longrightarrow> (\\<forall> j. 1 \\<le> j \\<and> j \\<le> num_switches \\<and> (switch i) dvd (switch j) \\<longrightarrow> advance_switch j)\"\nand h4 : \"position_A = {i. 1 \\<le> i \\<and> i \\<le> num_switches \\<and> switch_position i = A}\"\nshows  \"card position_A = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes num_switches :: nat and step :: nat\nassumes h0 : \"num_switches = 1000\"\nand h1 : \"\\<forall> x y z. 0 \\<le> x \\<and> x \\<le> 9 \\<and> 0 \\<le> y \\<and> y \\<le> 9 \\<and> 0 \\<le> z \\<and> z \\<le> 9\"\nand h2 : \"\\<forall> i. 1 \\<le> i \\<and> i \\<le> num_switches \\<longrightarrow> (switch i = (2 powr (x i)) * (3 powr (y i)) * (5 powr (z i)))\"\nand h3 : \"\\<forall> i. 1 \\<le> i \\<and> i \\<le> 1000 \\<longrightarrow> (\\<forall> j. 1 \\<le> j \\<and> j \\<le> num_switches \\<and> (switch i) dvd (switch j) \\<longrightarrow> advance_switch j)\"\nand h4 : \"position_A = {i. 1 \\<le> i \\<and> i \\<le> num_switches \\<and> switch_position i = A}\"\nshows  \"card position_A = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1000 switches in a row. Each switch can be in position A or position B. Each switch has a unique number associated with it, given by the formula $(2^{x_i})(3^{y_i})(5^{z_i})$, where $x_i$, $y_i$, and $z_i$ are integers between 0 and 9. For each switch, if its number divides the number of another switch, it advances that switch (changes its position). Initially, some switches are in position A. How many switches are in position A after all the advancing is done? The final answer is 650."
    },
    "a_5": {
        "formal problem": "\n\ndefinition count_divisors :: \"nat \\<Rightarrow> nat\"\n  where \"count_divisors n = card {x. x dvd n}\"\n\ndefinition switch :: \"nat \\<Rightarrow> nat \\<Rightarrow> char\"\n  where \"switch step label =\n    (if step = 0 then 'A'\n     else\n      (let n = count_divisors label in\n       case switch (step - 1) label of\n         'A' \\<Rightarrow> (if n = 1 then 'B' else 'A')\n       | 'B' \\<Rightarrow> (if n = 2 then 'C' else 'B')\n       | 'C' \\<Rightarrow> (if n = 3 then 'D' else 'C')\n       | 'D' \\<Rightarrow> (if n = 4 then 'A' else 'D')\n       | _   \\<Rightarrow> undefined))\"\n\ndefinition num_position_A :: \"nat \\<Rightarrow> nat\"\n  where \"num_position_A step = card {x. x \\<in> {1..1000} \\<and> switch step x = 'A'}\"\n\ntheorem final_position_A:\n  \"num_position_A 1000 = 650\"\n  sorry\n\nend",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\n\n\ndefinition count_divisors :: \"nat \\<Rightarrow> nat\"\n  where \"count_divisors n = card {x. x dvd n}\"\n\ndefinition switch :: \"nat \\<Rightarrow> nat \\<Rightarrow> char\"\n  where \"switch step label =\n    (if step = 0 then 'A'\n     else\n      (let n = count_divisors label in\n       case switch (step - 1) label of\n         'A' \\<Rightarrow> (if n = 1 then 'B' else 'A')\n       | 'B' \\<Rightarrow> (if n = 2 then 'C' else 'B')\n       | 'C' \\<Rightarrow> (if n = 3 then 'D' else 'C')\n       | 'D' \\<Rightarrow> (if n = 4 then 'A' else 'D')\n       | _   \\<Rightarrow> undefined))\"\n\ndefinition num_position_A :: \"nat \\<Rightarrow> nat\"\n  where \"num_position_A step = card {x. x \\<in> {1..1000} \\<and> switch step x = 'A'}\"\n\ntheorem final_position_A:\n  \"num_position_A 1000 = 650\"\n  sorry\n\nend\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a sequence of labels for numbers from 1 to 1000. Initially, all labels are 'A'. Then, perform 1000 steps. In each step, change the label of each number according to the following rules:\n\n- If the current label is 'A' and the number has exactly 1 divisor, change it to 'B'. Otherwise, keep it as 'A'.\n- If the current label is 'B' and the number has exactly 2 divisors, change it to 'C'. Otherwise, keep it as 'B'.\n- If the current label is 'C' and the number has exactly 3 divisors, change it to 'D'. Otherwise, keep it as 'C'.\n- If the current label is 'D' and the number has exactly 4 divisors, change it to 'A'. Otherwise, keep it as 'D'.\n\nAfter 1000 steps, how many numbers from 1 to 1000 have the label 'A'? The final answer is 650."
    },
    "a_6": {
        "formal problem": "theorem\nfixes switch :: \"nat \\<Rightarrow> (nat \\<times> nat \\<times> nat \\<Rightarrow> nat) \\<Rightarrow> char\"\nassumes h0 : \"\\<forall> x y z. x \\<in> {0..9} \\<and> y \\<in> {0..9} \\<and> z \\<in> {0..9} \\<longrightarrow>\n                  switch (2^x * 3^y * 5^z) init = 'A'\"\nand h1 : \"\\<forall> i. 1 \\<le> i \\<and> i \\<le> 1000 \\<longrightarrow>\n             (\\<forall> j. 1 \\<le> j \\<and> j \\<le> 1000 \\<and> (i mod j = 0) \\<longrightarrow>\n                 (\\<forall> x y z. x \\<in> {0..9} \\<and> y \\<in> {0..9} \\<and> z \\<in> {0..9} \\<and> j = 2^x * 3^y * 5^z \\<longrightarrow>\n                     switch j (step i) = (switch j (step (i-1)) + 1) mod 4))\"\nshows  \"card {i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> switch i (step 1000) = 'A'} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes switch :: \"nat \\<Rightarrow> (nat \\<times> nat \\<times> nat \\<Rightarrow> nat) \\<Rightarrow> char\"\nassumes h0 : \"\\<forall> x y z. x \\<in> {0..9} \\<and> y \\<in> {0..9} \\<and> z \\<in> {0..9} \\<longrightarrow>\n                  switch (2^x * 3^y * 5^z) init = 'A'\"\nand h1 : \"\\<forall> i. 1 \\<le> i \\<and> i \\<le> 1000 \\<longrightarrow>\n             (\\<forall> j. 1 \\<le> j \\<and> j \\<le> 1000 \\<and> (i mod j = 0) \\<longrightarrow>\n                 (\\<forall> x y z. x \\<in> {0..9} \\<and> y \\<in> {0..9} \\<and> z \\<in> {0..9} \\<and> j = 2^x * 3^y * 5^z \\<longrightarrow>\n                     switch j (step i) = (switch j (step (i-1)) + 1) mod 4))\"\nshows  \"card {i. 1 \\<le> i \\<and> i \\<le> 1000 \\<and> switch i (step 1000) = 'A'} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a switch that can be in one of four states: A, B, C, or D. The switch starts in state A. For each number between 1 and 1000 inclusive, it follows a series of steps: for each divisor of the number, if the divisor can be represented as $2^x * 3^y * 5^z$, where $x, y, z \\in \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$, the switch changes its state. The switch transitions are performed in a cyclic manner: A to B, B to C, C to D, and D back to A.\n\nFind how many numbers between 1 and 1000 inclusive have the switch in state A after going through all their divisors. The final answer is 650."
    },
    "a_7": {
        "formal problem": "theorem\nfixes switches :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"\\<forall>i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<longrightarrow> (\\<exists>x y z. x \\<ge> 0 \\<and> x \\<le> 9 \\<and> y \\<ge> 0 \\<and> y \\<le> 9 \\<and> z \\<ge> 0 \\<and> z \\<le> 9 \\<and> switches i = (2^x) * (3^y) * (5^z))\"\nand h1 : \"initial_state (\\<lambda>i. switches i = 1)\"\nand h2 : \"step_process (\\<lambda>i. (switches i = 1 \\<longrightarrow> switches (i+1) = 2) \\<and> (switches i = 2 \\<longrightarrow> switches (i+1) = 3) \\<and> (switches i = 3 \\<longrightarrow> switches (i+1) = 4) \\<and> (switches i = 4 \\<longrightarrow> switches (i+1) = 1))\"\nand h3 : \"\\<forall>i j. (j < i \\<and> i \\<le> 1000 \\<and> switches j dvd switches i) \\<longrightarrow> step_process (\\<lambda>i. (switches i = 1 \\<longrightarrow> switches (i+1) = 2) \\<and> (switches i = 2 \\<longrightarrow> switches (i+1) = 3) \\<and> (switches i = 3 \\<longrightarrow> switches (i+1) = 4) \\<and> (switches i = 4 \\<longrightarrow> switches (i+1) = 1))\"\nshows  \"card {i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> switches i = 1} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes switches :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"\\<forall>i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<longrightarrow> (\\<exists>x y z. x \\<ge> 0 \\<and> x \\<le> 9 \\<and> y \\<ge> 0 \\<and> y \\<le> 9 \\<and> z \\<ge> 0 \\<and> z \\<le> 9 \\<and> switches i = (2^x) * (3^y) * (5^z))\"\nand h1 : \"initial_state (\\<lambda>i. switches i = 1)\"\nand h2 : \"step_process (\\<lambda>i. (switches i = 1 \\<longrightarrow> switches (i+1) = 2) \\<and> (switches i = 2 \\<longrightarrow> switches (i+1) = 3) \\<and> (switches i = 3 \\<longrightarrow> switches (i+1) = 4) \\<and> (switches i = 4 \\<longrightarrow> switches (i+1) = 1))\"\nand h3 : \"\\<forall>i j. (j < i \\<and> i \\<le> 1000 \\<and> switches j dvd switches i) \\<longrightarrow> step_process (\\<lambda>i. (switches i = 1 \\<longrightarrow> switches (i+1) = 2) \\<and> (switches i = 2 \\<longrightarrow> switches (i+1) = 3) \\<and> (switches i = 3 \\<longrightarrow> switches (i+1) = 4) \\<and> (switches i = 4 \\<longrightarrow> switches (i+1) = 1))\"\nshows  \"card {i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> switches i = 1} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a sequence of 1000 switches, each switch can be in one of four states: 1, 2, 3, or 4. The state of each switch can be represented as the product of $2^x \\cdot 3^y \\cdot 5^z$, where $0 \\leq x, y, z \\leq 9$. The switches start with an initial state where all switches are in state 1. The switches change states according to the following rules:\n\n1. If a switch is in state 1, it will change to state 2 in the next step.\n2. If a switch is in state 2, it will change to state 3 in the next step.\n3. If a switch is in state 3, it will change to state 4 in the next step.\n4. If a switch is in state 4, it will change to state 1 in the next step.\n\nAdditionally, for any two switches $i$ and $j$ with $j < i \\leq 1000$, if the state of switch $j$ divides the state of switch $i$, the switches follow the same state-changing rules.\n\nFind the number of switches that are in state 1 after applying these rules. The final answer is 650."
    },
    "a_8": {
        "formal problem": "theorem\nfixes switches :: \"int \\<Rightarrow> char\"\nassumes h0 : \"\\<forall> i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<longrightarrow> switches i = 'A'\"\nand h1 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'A' \\<longrightarrow> switches j = 'B')\"\nand h2 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'B' \\<longrightarrow> switches j = 'C')\"\nand h3 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'C' \\<longrightarrow> switches j = 'D')\"\nand h4 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'D' \\<longrightarrow> switches j = 'A')\"\nshows  \"\\<forall> i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> switches i = 'A' \\<longrightarrow> card {i. switches i = 'A'} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ntheorem\nfixes switches :: \"int \\<Rightarrow> char\"\nassumes h0 : \"\\<forall> i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<longrightarrow> switches i = 'A'\"\nand h1 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'A' \\<longrightarrow> switches j = 'B')\"\nand h2 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'B' \\<longrightarrow> switches j = 'C')\"\nand h3 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'C' \\<longrightarrow> switches j = 'D')\"\nand h4 : \"\\<forall> i j. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> j \\<ge> 1 \\<and> j \\<le> 1000 \\<and> (i * (2^x) * (3^y) * (5^z) = j) \\<longrightarrow> (switches i = 'D' \\<longrightarrow> switches j = 'A')\"\nshows  \"\\<forall> i. i \\<ge> 1 \\<and> i \\<le> 1000 \\<and> switches i = 'A' \\<longrightarrow> card {i. switches i = 'A'} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1000 switches labeled A, B, C, and D. Initially, all switches are set to 'A'. The switches can be changed according to the following rules:\n\n1. If a switch is set to 'A', it can be changed to 'B' by multiplying its position by $2^x * 3^y * 5^z$ for some non-negative integers x, y, and z.\n2. If a switch is set to 'B', it can be changed to 'C' by multiplying its position by $2^x * 3^y * 5^z$ for some non-negative integers x, y, and z.\n3. If a switch is set to 'C', it can be changed to 'D' by multiplying its position by $2^x * 3^y * 5^z$ for some non-negative integers x, y, and z.\n4. If a switch is set to 'D', it can be changed back to 'A' by multiplying its position by $2^x * 3^y * 5^z$ for some non-negative integers x, y, and z.\n\nProve that after applying these rules, there are exactly 650 switches set to 'A'."
    },
    "a_9": {
        "formal problem": "definition step :: \"nat \\<Rightarrow> (nat \\<Rightarrow> nat) \\<Rightarrow> (nat \\<Rightarrow> nat)\"\n  where \"step i f j = (if i mod j = 0 then (f j + 1) mod 4 else f j)\"\n\nfun advance_switches :: \"nat \\<Rightarrow> (nat \\<Rightarrow> nat) \\<Rightarrow> (nat \\<Rightarrow> nat)\"\n  where\n    \"advance_switches 0 f = f\"\n  | \"advance_switches (Suc i) f = advance_switches i (step (Suc i) f)\"\n\ndefinition init_switches :: \"nat \\<Rightarrow> nat\"\n  where \"init_switches _ = 0\"\n\ndefinition switch_label :: \"nat \\<Rightarrow> nat\"\n  where \"switch_label i = (2 ^ (i mod 10)) * (3 ^ ((i div 10) mod 10)) * (5 ^ (i div 100))\"\n\ntheorem\n  assumes h0 : \"\\<forall>i \\<in> {1..1000}. f i = advance_switches i init_switches (switch_label i)\"\nshows  \"card {i. i \\<in> {1..1000} \\<and> f i = 0} = 650\"",
        "formal solution": "(* ### Problem\n There is a set of 1000 switches, each of which has four positions, called $A, B, C$, and $D$. When the position of any switch changes, it is only from $A$ to $B$, from $B$ to $C$, from $C$ to $D$, or from $D$ to $A$. Initially each switch is in position $A$. The switches are labeled with the 1000 different integers $(2^{x})(3^{y})(5^{z})$, where $x, y$, and $z$ take on the values $0, 1, \\ldots, 9$. At step i of a 1000-step process, the $i$-th switch is advanced one step, and so are all the other switches whose labels divide the label on the $i$-th switch. After step 1000 has been completed, how many switches will be in position $A$?\n The final Answer is 650\n ### Proof\n For each $i$th switch (designated by $x_{i},y_{i},z_{i}$), it advances itself only one time at the $i$th step; thereafter, only a switch with larger $x_{j},y_{j},z_{j}$ values will advance the $i$th switch by one step provided $d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}$ divides $d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}$.\n Let $N = 2^{9}3^{9}5^{9}$ be the max switch label.\n To find the divisor multiples in the range of $d_{i}$ to $N$, we consider the exponents of the number $\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}$. In general, the divisor-count of $\\frac{N}{d}$ must be a multiple of 4 to ensure that a switch is in position A: $4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)$, where $0 \\le x,y,z \\le 9.$\n We consider the cases where the 3 factors above do not contribute multiples of 4. Case of no 2's: The switches must be $(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$. There are $5$ odd integers in $0$ to $9$, so we have $5 \\times 5 \\times 5 = 125$ ways.\n Case of a single 2: The switches must be one of $(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})$ or $(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})$.\n Since $0 \\le x,y,z \\le 9,$ the terms $2\\cdot 1, 2 \\cdot 3,$ and $2 \\cdot 5$ are three valid choices for the $(2 \\cdot odd)$ factor above.\n We have ${3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225$ ways. The number of switches in position A is $1000-125-225 = \\boxed{650}$.\n *)\n\ndefinition step :: \"nat \\<Rightarrow> (nat \\<Rightarrow> nat) \\<Rightarrow> (nat \\<Rightarrow> nat)\"\n  where \"step i f j = (if i mod j = 0 then (f j + 1) mod 4 else f j)\"\n\nfun advance_switches :: \"nat \\<Rightarrow> (nat \\<Rightarrow> nat) \\<Rightarrow> (nat \\<Rightarrow> nat)\"\n  where\n    \"advance_switches 0 f = f\"\n  | \"advance_switches (Suc i) f = advance_switches i (step (Suc i) f)\"\n\ndefinition init_switches :: \"nat \\<Rightarrow> nat\"\n  where \"init_switches _ = 0\"\n\ndefinition switch_label :: \"nat \\<Rightarrow> nat\"\n  where \"switch_label i = (2 ^ (i mod 10)) * (3 ^ ((i div 10) mod 10)) * (5 ^ (i div 100))\"\n\ntheorem\n  assumes h0 : \"\\<forall>i \\<in> {1..1000}. f i = advance_switches i init_switches (switch_label i)\"\nshows  \"card {i. i \\<in> {1..1000} \\<and> f i = 0} = 650\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1000 switches, numbered from 1 to 1000. Initially, all switches are off. The switches are advanced in the following way:\n\n1. For each integer $i$, $1 \\leq i \\leq 1000$, the $i$-th switch is advanced according to the following rule: If $i$ is divisible by $j$, then the $j$-th switch is advanced by one step, cycling through four states (0, 1, 2, and 3) in a circular manner.\n\n2. The label of the $i$-th switch is defined as $(2^{i \\bmod 10})(3^{(i \\div 10) \\bmod 10})(5^{i \\div 100})$.\n\nAfter all the 1000 switches have been advanced according to the above rules, how many switches are in state 0 (off)? The final answer is 650."
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}