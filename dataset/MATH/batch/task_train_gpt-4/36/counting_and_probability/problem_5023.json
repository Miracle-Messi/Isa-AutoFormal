{
    "natural problem": "Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n",
    "natural solution": [
        "Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.",
        "That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).",
        "The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$."
    ],
    "natural answer": "5",
    "a_0": {
        "formal problem": "theorem\nfixes a b :: \"nat list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000}\"\nand h4 : \"set a \\<inter> set b = {}\"\nand h5 : \"\\<forall>i j. i < 3 \\<and> j < 3 \\<longrightarrow> a!i \\<le> b!j \\<or> a!(i+1) \\<le> b!(j+1) \\<or> a!(i+2) \\<le> b!(j+2)\"\nand h6 : \"p = (card {a. h0 \\<and> h1 \\<and> h2 \\<and> h3 \\<and> h4 \\<and> h5}) / (card {a. h0 \\<and> h1 \\<and> h2 \\<and> h3 \\<and> h4})\"\nshows  \"p = 1 / 166833\" and \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"nat list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000}\"\nand h4 : \"set a \\<inter> set b = {}\"\nand h5 : \"\\<forall>i j. i < 3 \\<and> j < 3 \\<longrightarrow> a!i \\<le> b!j \\<or> a!(i+1) \\<le> b!(j+1) \\<or> a!(i+2) \\<le> b!(j+2)\"\nand h6 : \"p = (card {a. h0 \\<and> h1 \\<and> h2 \\<and> h3 \\<and> h4 \\<and> h5}) / (card {a. h0 \\<and> h1 \\<and> h2 \\<and> h3 \\<and> h4})\"\nshows  \"p = 1 / 166833\" and \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider two lists of natural numbers, $a$ and $b$, each containing three distinct elements from the range $1$ to $1000$. For every pair of indices $i$ and $j$, with $i, j < 3$, at least one of the following conditions holds: $a_i \\le b_j$, $a_{i+1} \\le b_{j+1}$, or $a_{i+2} \\le b_{j+2}$. Calculate the probability $p$ of such lists satisfying these conditions. The final answer is $\\frac{1}{166833}$, and the sum of the numerator and denominator is $5$."
    },
    "a_1": {
        "formal problem": "theorem\nfixes a b :: \"(nat \\<Rightarrow> nat) \\<Rightarrow> nat\"\nand S :: \"nat set\"\nand p :: real\nassumes h0 : \"S = {1..1000}\"\nand h1 : \"card (a ` {1,2,3}) = 3\"\nand h2 : \"card (b ` {1,2,3}) = 3\"\nand h3 : \"a ` {1,2,3} \\<subseteq> S\"\nand h4 : \"b ` {1,2,3} \\<subseteq> S - a ` {1,2,3}\"\nand h5 : \"\\<forall>i. i \\<in> {1,2,3} \\<longrightarrow> a i < b i\"\nand h6 : \"p = prob {a,b. a ` {1,2,3} \\<subseteq> S \\<and> b ` {1,2,3} \\<subseteq> S - a ` {1,2,3} \\<and> (\\<forall>i. i \\<in> {1,2,3} \\<longrightarrow> a i < b i)}\"\nand h7 : \"p = real (numerator p) / real (denominator p)\"\nshows  \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"(nat \\<Rightarrow> nat) \\<Rightarrow> nat\"\nand S :: \"nat set\"\nand p :: real\nassumes h0 : \"S = {1..1000}\"\nand h1 : \"card (a ` {1,2,3}) = 3\"\nand h2 : \"card (b ` {1,2,3}) = 3\"\nand h3 : \"a ` {1,2,3} \\<subseteq> S\"\nand h4 : \"b ` {1,2,3} \\<subseteq> S - a ` {1,2,3}\"\nand h5 : \"\\<forall>i. i \\<in> {1,2,3} \\<longrightarrow> a i < b i\"\nand h6 : \"p = prob {a,b. a ` {1,2,3} \\<subseteq> S \\<and> b ` {1,2,3} \\<subseteq> S - a ` {1,2,3} \\<and> (\\<forall>i. i \\<in> {1,2,3} \\<longrightarrow> a i < b i)}\"\nand h7 : \"p = real (numerator p) / real (denominator p)\"\nshows  \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a set S containing the integers from 1 to 1000. Let a and b be two functions that map from the set {1, 2, 3} to natural numbers. It is given that a and b both have 3 distinct values when applied to the set {1, 2, 3}, and the values of a lie within S, while the values of b lie within the set S without the values of a. It is also given that for every i in {1, 2, 3}, a(i) < b(i). Now, let p represent the probability of such a and b existing. If p is expressed as a fraction, find the sum of the numerator and denominator of p. The final answer is 5."
    },
    "a_2": {
        "formal problem": "theorem\nfixes a b :: \"nat list\" and p :: \"rat\"\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"distinct a\"\nand h5 : \"distinct b\"\nand h6 : \"p = (\\<Sum>i\\<in>{1..1000}. \\<Sum>j\\<in>{1..1000} - {i}. \\<Sum>k\\<in>{1..1000} - {i, j}.\n                 (if (i \\<le> 1000 - k \\<and> j \\<le> 1000 - k - 1) then 1 else 0)) / (binomial 1000 3 * binomial 997 3)\"\nshows  \"p = 1/1001\" and \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"nat list\" and p :: \"rat\"\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"distinct a\"\nand h5 : \"distinct b\"\nand h6 : \"p = (\\<Sum>i\\<in>{1..1000}. \\<Sum>j\\<in>{1..1000} - {i}. \\<Sum>k\\<in>{1..1000} - {i, j}.\n                 (if (i \\<le> 1000 - k \\<and> j \\<le> 1000 - k - 1) then 1 else 0)) / (binomial 1000 3 * binomial 997 3)\"\nshows  \"p = 1/1001\" and \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider two sets of distinct integers, $a$ and $b$, each with three elements, where the elements of $a$ and $b$ are chosen from the set of integers from 1 to 1000, and $a$ and $b$ have no common elements. Let $p$ be the probability that for any three integers $i$, $j$, and $k$ chosen from the set {1..1000}, with $i \\neq j \\neq k$, the sum of $i$ and $j$ is less than or equal to $1000 - k$, and the sum of $j$ and $k$ is less than or equal to $1000 - i$. Find the value of $p$ such that the sum of its numerator and denominator is equal to 5."
    },
    "a_3": {
        "formal problem": "theorem\nfixes a :: \"int list\" and b :: \"int list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"\\<forall> i j. i \\<in> set a \\<and> j \\<in> set b \\<longrightarrow> i \\<noteq> j\"\nand h5 : \"p = (\\<Sum>(i, j) | i \\<in> set a \\<and> j \\<in> set b. (if (\\<forall> k \\<in> set a. k \\<le> j) then 1 else 0)) / ((1000 choose 3) * (997 choose 3))\"\nshows  \"p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a :: \"int list\" and b :: \"int list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"\\<forall> i j. i \\<in> set a \\<and> j \\<in> set b \\<longrightarrow> i \\<noteq> j\"\nand h5 : \"p = (\\<Sum>(i, j) | i \\<in> set a \\<and> j \\<in> set b. (if (\\<forall> k \\<in> set a. k \\<le> j) then 1 else 0)) / ((1000 choose 3) * (997 choose 3))\"\nshows  \"p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Choose two sets of 3 distinct integers each, $a$ and $b$, from the range 1 to 1000 such that the elements of $a$ do not belong to $b$ and vice versa. Calculate the probability $p$ that for all elements $i$ in set $a$ and all elements $j$ in set $b$, $i \\leq j$ for at least one $i$ in set $a$. The final answer is $p = 5$."
    },
    "a_4": {
        "formal problem": "theorem\nfixes a b :: \"nat list\"\nassumes h0 : \"set a \\<subseteq> {1..1000}\"\nand h1 : \"length a = 3\"\nand h2 : \"card (set a) = 3\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"length b = 3\"\nand h5 : \"card (set b) = 3\"\nand h6 : \"sorted a\"\nand h7 : \"sorted b\"\nand h8 : \"brick_enclosed a b\"\nand h9 : \"suitable_rotation a b\"\nand h10 : \"probability_enclosed a b = p\"\nshows  \"p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"nat list\"\nassumes h0 : \"set a \\<subseteq> {1..1000}\"\nand h1 : \"length a = 3\"\nand h2 : \"card (set a) = 3\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"length b = 3\"\nand h5 : \"card (set b) = 3\"\nand h6 : \"sorted a\"\nand h7 : \"sorted b\"\nand h8 : \"brick_enclosed a b\"\nand h9 : \"suitable_rotation a b\"\nand h10 : \"probability_enclosed a b = p\"\nshows  \"p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Choose two sets of three distinct numbers each, $a$ and $b$, from the range $1$ to $1000$. The numbers in set $a$ are sorted in ascending order, and the numbers in set $b$ are also sorted in ascending order. Set $b$ does not contain any numbers from set $a$. If there is a suitable rotation and arrangement such that all bricks represented by set $a$ can be enclosed by the bricks represented by set $b$, find the probability of this occurrence. The final answer is $5$."
    },
    "a_5": {
        "formal problem": "theorem\nfixes a b :: \"nat list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"distinct a\"\nand h4 : \"set b \\<subseteq> {1..1000} - set a\"\nand h5 : \"distinct b\"\nand h6 : \"(\\<exists> r. rotate a r = sort a) \\<longrightarrow> (\\<exists> s. rotate b s = sort b) \\<longrightarrow> (\\<forall> i \\<in> {0..2}. a!i \\<le> b!i)\"\nand h7 : \"p = (\\<lambda>a b. card {(a, b)| a b. a \\<in> set a \\<and> b \\<in> set b \\<and> h3}) / card ({1..1000} choose 3)\"\nshows  \"p = 1 / 332\" and \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"nat list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"distinct a\"\nand h4 : \"set b \\<subseteq> {1..1000} - set a\"\nand h5 : \"distinct b\"\nand h6 : \"(\\<exists> r. rotate a r = sort a) \\<longrightarrow> (\\<exists> s. rotate b s = sort b) \\<longrightarrow> (\\<forall> i \\<in> {0..2}. a!i \\<le> b!i)\"\nand h7 : \"p = (\\<lambda>a b. card {(a, b)| a b. a \\<in> set a \\<and> b \\<in> set b \\<and> h3}) / card ({1..1000} choose 3)\"\nshows  \"p = 1 / 332\" and \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are two lists of distinct integers, $a$ and $b$, each containing 3 elements. The elements of $a$ are chosen from the set of integers from $1$ to $1000$ and the elements of $b$ are chosen from the remaining integers not in $a$. If both lists can be sorted by rotating (shifting) their elements, and every element in $a$ is less than or equal to the corresponding element in $b$, find the probability $p$ that such a condition is satisfied. The final answer is $\\frac{1}{332}$, and the sum of the numerator and the denominator of $p$ is $5$."
    },
    "a_6": {
        "formal problem": "theorem\nfixes a b :: \"nat list\" and p :: rat\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"distinct a\"\nand h5 : \"distinct b\"\nand h6 : \"p = (\\<Sum>(a1, a2, a3) \\<in> set a. \\<Sum>(b1, b2, b3) \\<in> set b.\n               if a1 \\<le> b1 \\<and> a2 \\<le> b2 \\<and> a3 \\<le> b3 then 1 else 0) / (card (set a) * card (set b))\"\nshows  \"p = 1/5\" and \"p = 1/5 \\<Longrightarrow> numer p + denom p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"nat list\" and p :: rat\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"set a \\<subseteq> {1..1000}\"\nand h3 : \"set b \\<subseteq> {1..1000} - set a\"\nand h4 : \"distinct a\"\nand h5 : \"distinct b\"\nand h6 : \"p = (\\<Sum>(a1, a2, a3) \\<in> set a. \\<Sum>(b1, b2, b3) \\<in> set b.\n               if a1 \\<le> b1 \\<and> a2 \\<le> b2 \\<and> a3 \\<le> b3 then 1 else 0) / (card (set a) * card (set b))\"\nshows  \"p = 1/5\" and \"p = 1/5 \\<Longrightarrow> numer p + denom p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Suppose we have two lists of distinct numbers $a$ and $b$, each with 3 elements. The elements of $a$ are between 1 and 1000, and the elements of $b$ are between 1 and 1000 but not in $a$. Let $p$ be the probability that for any $(a_1, a_2, a_3) \\in a$ and $(b_1, b_2, b_3) \\in b$, $a_1 \\leq b_1$, $a_2 \\leq b_2$, and $a_3 \\leq b_3$. Show that $p = \\frac{1}{5}$, and if $p = \\frac{1}{5}$, then the sum of the numerator and denominator of $p$ is 5."
    },
    "a_7": {
        "formal problem": "theorem\nfixes p :: real\nassumes h0 : \"p = (number_of_suitable_rotations 3) / (total_possible_selections 1000 3)\"\nand h1 : \"fraction_in_lowest_terms p\"\nshows  \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes p :: real\nassumes h0 : \"p = (number_of_suitable_rotations 3) / (total_possible_selections 1000 3)\"\nand h1 : \"fraction_in_lowest_terms p\"\nshows  \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a lottery, the probability of selecting three suitable rotations out of 1000 is represented as a fraction in its lowest terms. If the probability is represented by $p$, what is the sum of the numerator and the denominator of $p$? The final answer is $5$."
    },
    "a_8": {
        "formal problem": "theorem\nfixes a1 a2 a3 b1 b2 b3 :: nat\nand p :: real\nassumes h0 : \"a1 \\<in> {1..1000} \\<and> a2 \\<in> {1..1000} - {a1} \\<and> a3 \\<in> {1..1000} - {a1, a2}\"\nand h1 : \"b1 \\<in> {1..1000} - {a1, a2, a3} \\<and> b2 \\<in> {1..1000} - {a1, a2, a3, b1} \\<and> b3 \\<in> {1..1000} - {a1, a2, a3, b1, b2}\"\nand h2 : \"p = card {(a1, a2, a3, b1, b2, b3). \n              (\\<exists> p1 p2 p3. (p1, p2, p3) = (a1, a2, a3) \\<or> (p1, p2, p3) = (a1, a3, a2) \\<or> (p1, p2, p3) = (a2, a1, a3) \\<or> (p1, p2, p3) = (a2, a3, a1) \\<or> (p1, p2, p3) = (a3, a1, a2) \\<or> (p1, p2, p3) = (a3, a2, a1)) \\<and>\n              p1 \\<le> b1 \\<and> p2 \\<le> b2 \\<and> p3 \\<le> b3} / card {(a1, a2, a3, b1, b2, b3) | a1 a2 a3 b1 b2 b3. \n              a1 \\<in> {1..1000} \\<and> a2 \\<in> {1..1000} - {a1} \\<and> a3 \\<in> {1..1000} - {a1, a2} \\<and>\n              b1 \\<in> {1..1000} - {a1, a2, a3} \\<and> b2 \\<in> {1..1000} - {a1, a2, a3, b1} \\<and> b3 \\<in> {1..1000} - {a1, a2, a3, b1, b2}}\"\nand h3 : \"p = real_of_frac ((numerator p), (denominator p))\"\nshows  \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a1 a2 a3 b1 b2 b3 :: nat\nand p :: real\nassumes h0 : \"a1 \\<in> {1..1000} \\<and> a2 \\<in> {1..1000} - {a1} \\<and> a3 \\<in> {1..1000} - {a1, a2}\"\nand h1 : \"b1 \\<in> {1..1000} - {a1, a2, a3} \\<and> b2 \\<in> {1..1000} - {a1, a2, a3, b1} \\<and> b3 \\<in> {1..1000} - {a1, a2, a3, b1, b2}\"\nand h2 : \"p = card {(a1, a2, a3, b1, b2, b3). \n              (\\<exists> p1 p2 p3. (p1, p2, p3) = (a1, a2, a3) \\<or> (p1, p2, p3) = (a1, a3, a2) \\<or> (p1, p2, p3) = (a2, a1, a3) \\<or> (p1, p2, p3) = (a2, a3, a1) \\<or> (p1, p2, p3) = (a3, a1, a2) \\<or> (p1, p2, p3) = (a3, a2, a1)) \\<and>\n              p1 \\<le> b1 \\<and> p2 \\<le> b2 \\<and> p3 \\<le> b3} / card {(a1, a2, a3, b1, b2, b3) | a1 a2 a3 b1 b2 b3. \n              a1 \\<in> {1..1000} \\<and> a2 \\<in> {1..1000} - {a1} \\<and> a3 \\<in> {1..1000} - {a1, a2} \\<and>\n              b1 \\<in> {1..1000} - {a1, a2, a3} \\<and> b2 \\<in> {1..1000} - {a1, a2, a3, b1} \\<and> b3 \\<in> {1..1000} - {a1, a2, a3, b1, b2}}\"\nand h3 : \"p = real_of_frac ((numerator p), (denominator p))\"\nshows  \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Three distinct numbers are randomly chosen from the set {1, 2, ..., 1000}, and are labeled $a_1$, $a_2$, $a_3$. Then, three more distinct numbers are chosen from the remaining numbers, and are labeled $b_1$, $b_2$, $b_3$. Let $p$ be the probability that the three numbers $a_1$, $a_2$, $a_3$ can be rearranged to form a non-decreasing sequence, say $(p_1, p_2, p_3)$, such that $p_1 \\leq b_1$, $p_2 \\leq b_2$, and $p_3 \\leq b_3$. Find the sum of the numerator and the denominator of the simplified fraction $p$. The final answer is 5."
    },
    "a_9": {
        "formal problem": "theorem\nfixes a b :: \"nat list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"\\<forall> x \\<in> set a. x \\<in> {1..1000}\"\nand h3 : \"\\<forall> x \\<in> set b. x \\<in> {1..1000}\"\nand h4 : \"set a \\<inter> set b = {}\"\nand h5 : \"p = prob { (a, b) | a b. valid_sets a b } / prob { (a, b) | a b. valid_sets a b \\<and> valid_sets b a }\"\nand h6 : \"valid_sets a b \\<longleftrightarrow> (length a = 3 \\<and> length b = 3 \\<and> (\\<forall> x \\<in> set a. x \\<in> {1..1000}) \\<and> (\\<forall> x \\<in> set b. x \\<in> {1..1000}) \\<and> set a \\<inter> set b = {})\"\nand h7 : \"can_enclose a b \\<longleftrightarrow> (\\<exists> a' b'. list_all2 (\\<lambda> x y. x \\<le> y) (sort a) (sort b) \\<and> a' = sort a \\<and> b' = sort b)\"\nshows  \"p = 1/5\" and \"numerator p + denominator p = 5\"",
        "formal solution": "(* ### Problem\n Three numbers, $a_1\\,$, $a_2\\,$, $a_3\\,$, are drawn randomly and without replacement from the set $\\{1, 2, 3, \\dots, 1000\\}\\,$. Three other numbers, $b_1\\,$, $b_2\\,$, $b_3\\,$, are then drawn randomly and without replacement from the remaining set of 997 numbers. Let $p\\,$ be the probability that, after a suitable rotation, a brick of dimensions $a_1 \\times a_2 \\times a_3\\,$ can be enclosed in a box of dimensions $b_1 \\times b_2 \\times b_3\\,$, with the sides of the brick parallel to the sides of the box. If $p\\,$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n The final Answer is 5\n ### Proof\n Call the six numbers selected $x_1 > x_2 > x_3 > x_4 > x_5 > x_6$. Clearly, $x_1$ must be a dimension of the box, and $x_6$ must be a dimension of the brick. If $x_2$ is a dimension of the box, then any of the other three remaining dimensions will work as a dimension of the box.\n That gives us $3$ possibilities. If $x_2$ is not a dimension of the box but $x_3$ is, then both remaining dimensions will work as a dimension of the box. That gives us $2$ possibilities. If $x_4$ is a dimension of the box but $x_2,\\ x_3$ aren\u2019t, there are no possibilities (same for $x_5$).\n The total number of arrangements is ${6\\choose3} = 20$; therefore, $p = \\frac{3 + 2}{20} = \\frac{1}{4}$, and the answer is $1 + 4 = \\boxed{5}$.\n *)\n\ntheorem\nfixes a b :: \"nat list\" and p :: real\nassumes h0 : \"length a = 3\"\nand h1 : \"length b = 3\"\nand h2 : \"\\<forall> x \\<in> set a. x \\<in> {1..1000}\"\nand h3 : \"\\<forall> x \\<in> set b. x \\<in> {1..1000}\"\nand h4 : \"set a \\<inter> set b = {}\"\nand h5 : \"p = prob { (a, b) | a b. valid_sets a b } / prob { (a, b) | a b. valid_sets a b \\<and> valid_sets b a }\"\nand h6 : \"valid_sets a b \\<longleftrightarrow> (length a = 3 \\<and> length b = 3 \\<and> (\\<forall> x \\<in> set a. x \\<in> {1..1000}) \\<and> (\\<forall> x \\<in> set b. x \\<in> {1..1000}) \\<and> set a \\<inter> set b = {})\"\nand h7 : \"can_enclose a b \\<longleftrightarrow> (\\<exists> a' b'. list_all2 (\\<lambda> x y. x \\<le> y) (sort a) (sort b) \\<and> a' = sort a \\<and> b' = sort b)\"\nshows  \"p = 1/5\" and \"numerator p + denominator p = 5\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider two sets of three distinct integers, $a$ and $b$, where each integer is between 1 and 1000. We say that $a$ can \"enclose\" $b$ if, when both sets are sorted, each element of $a$ is less than or equal to the corresponding element of $b$. Let $p$ be the probability that a randomly chosen pair of valid sets $(a, b)$ satisfies both the condition that $a$ can enclose $b$ and $b$ can enclose $a$. Find the value of $p$ and the sum of the numerator and denominator of $p$ when expressed as a simplified fraction. The final answers are $p = \\frac{1}{5}$ and the sum of the numerator and denominator is $5$."
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}