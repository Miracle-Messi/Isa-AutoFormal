{
    "natural problem": "A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n",
    "natural solution": [
        "There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).",
        "The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.",
        "When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$."
    ],
    "natural answer": "122",
    "a_0": {
        "formal problem": "theorem\nfixes players subs :: nat\nassumes h0 : \"players = 22\"\nand h1 : \"subs = 11\"\nand h2 : \"\\<forall> p s. p + s = players \\<and> p = subs \\<longrightarrow> (\\<exists> n. n mod 1000 = 122 \\<and> n = number_of_ways_substitutions p s)\"\nshows  \"number_of_ways_substitutions 11 11 mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes players subs :: nat\nassumes h0 : \"players = 22\"\nand h1 : \"subs = 11\"\nand h2 : \"\\<forall> p s. p + s = players \\<and> p = subs \\<longrightarrow> (\\<exists> n. n mod 1000 = 122 \\<and> n = number_of_ways_substitutions p s)\"\nshows  \"number_of_ways_substitutions 11 11 mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a soccer match, there are 22 players on the field, and each team has 11 substitutes. Find the number of ways to make substitutions for both teams such that the total number of players and substitutes involved is 22, and the number of ways has a remainder of 122 when divided by 1000."
    },
    "a_1": {
        "formal problem": "theorem\nfixes n :: int\nassumes h0 : \"n = (card {S. S \\<subseteq> {1..11} \\<times> {12..22} \\<and> (\\<forall>(x,y)\\<in>S. (\\<forall>(x',y')\\<in>S. y \\<noteq> y' \\<and> (x = x' \\<longrightarrow> y = y')) \\<and> card S \\<le> 3)})\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: int\nassumes h0 : \"n = (card {S. S \\<subseteq> {1..11} \\<times> {12..22} \\<and> (\\<forall>(x,y)\\<in>S. (\\<forall>(x',y')\\<in>S. y \\<noteq> y' \\<and> (x = x' \\<longrightarrow> y = y')) \\<and> card S \\<le> 3)})\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "How many ways can you choose a set S of at most 3 distinct pairs of integers (x, y), where x is in the range from 1 to 11 and y is in the range from 12 to 22, such that no two pairs have the same y-coordinate and if two pairs have the same x-coordinate, they must also have the same y-coordinate? Find the number of such sets, and give the answer modulo 1000. The final answer is 122."
    },
    "a_2": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"22 = 11 + 11\"\nand h1 : \"n = card {substitutions | substitutions. valid_substitution 11 11 3 substitutions}\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"22 = 11 + 11\"\nand h1 : \"n = card {substitutions | substitutions. valid_substitution 11 11 3 substitutions}\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Find the number of valid substitutions for the equation $22 = 11 + 11$, with each number being replaced by three different numbers. Determine the remainder when the total number of valid substitutions is divided by 1000. The final answer is 122."
    },
    "a_3": {
        "formal problem": "theorem\nfixes n :: int\nassumes h0 : \"n = (binomial 11 0 + binomial 11 1 * binomial 10 1 + binomial 11 2 * binomial 9 1 + binomial 11 3)\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: int\nassumes h0 : \"n = (binomial 11 0 + binomial 11 1 * binomial 10 1 + binomial 11 2 * binomial 9 1 + binomial 11 3)\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Calculate the value of $n$, where $n$ is the sum of the following terms: $\\binom{11}{0} + \\binom{11}{1} \\cdot \\binom{10}{1} + \\binom{11}{2} \\cdot \\binom{9}{1} + \\binom{11}{3}$. What is the remainder when $n$ is divided by 1000? The final answer is 122."
    },
    "a_4": {
        "formal problem": "theorem\nfixes n :: int\nassumes h0 : \"n = (11 choose 0) + (11 choose 1) * 11 + (11 choose 2) * 11^2 + (11 choose 3) * 11^3\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: int\nassumes h0 : \"n = (11 choose 0) + (11 choose 1) * 11 + (11 choose 2) * 11^2 + (11 choose 3) * 11^3\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Find the remainder when the following expression is divided by 1000: $n = \\binom{11}{0} + \\binom{11}{1}\\cdot 11 + \\binom{11}{2} \\cdot 11^2 + \\binom{11}{3} \\cdot 11^3$. The final answer is 122."
    },
    "a_5": {
        "formal problem": "theorem\nfixes n :: int\nassumes h0 : \"n = (\\<Sum>i\\<in>{0..3}. (11 choose i) * (11 choose (3 - i)) * fact (3 - i))\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: int\nassumes h0 : \"n = (\\<Sum>i\\<in>{0..3}. (11 choose i) * (11 choose (3 - i)) * fact (3 - i))\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Calculate the value of $n$, where $n$ is the sum of the following expression for $i$ ranging from $0$ to $3$ inclusive: ${11 \\choose i} \\cdot {11 \\choose (3 - i)} \\cdot (3 - i)!$. Find the remainder when $n$ is divided by 1000. The final answer is 122."
    },
    "a_6": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"n = card {subs :: (nat \\<times> nat) list. length subs \\<le> 3 \\<and> distinct (map fst subs) \\<and> (\\<forall>(x, y) \\<in> set subs. x \\<in> {1..11} \\<and> y \\<in> {12..22})}\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"n = card {subs :: (nat \\<times> nat) list. length subs \\<le> 3 \\<and> distinct (map fst subs) \\<and> (\\<forall>(x, y) \\<in> set subs. x \\<in> {1..11} \\<and> y \\<in> {12..22})}\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "How many ways are there to create a list of distinct ordered pairs of natural numbers (x, y) with at most 3 pairs, where x is in the range from 1 to 11, and y is in the range from 12 to 22? Find the answer modulo 1000. The final answer is 122."
    },
    "a_7": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"n = card {subsets :: (nat set \\<times> nat) set. \\<exists>starters substitutes. \n                                starters \\<subseteq> {1..22} \\<and> card starters = 11 \\<and> \n                                substitutes \\<subseteq> {1..22} - starters \\<and> card substitutes = 11 \\<and> \n                                (\\<forall>(player, order) \\<in> subsets. player \\<in> substitutes \\<and> order \\<in> {1..3}) \\<and> \n                                card subsets \\<le> 3}\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"n = card {subsets :: (nat set \\<times> nat) set. \\<exists>starters substitutes. \n                                starters \\<subseteq> {1..22} \\<and> card starters = 11 \\<and> \n                                substitutes \\<subseteq> {1..22} - starters \\<and> card substitutes = 11 \\<and> \n                                (\\<forall>(player, order) \\<in> subsets. player \\<in> substitutes \\<and> order \\<in> {1..3}) \\<and> \n                                card subsets \\<le> 3}\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a soccer team with 22 players, there are 11 starters and 11 substitutes. The coach can make up to 3 substitutions, with each substitute player replacing a starter in a specific order. How many different ways can the coach make these substitutions? Give your answer modulo 1000. The final answer is 122."
    },
    "a_8": {
        "formal problem": "theorem\nfixes soccer_team :: \"nat set\"\nand players_starting :: \"nat set\"\nand players_substitute :: \"nat set\"\nand substitution :: \"nat set \\<Rightarrow> nat set \\<Rightarrow> nat set\"\nand n :: nat\nassumes h0 : \"card soccer_team = 22\"\nand h1 : \"card players_starting = 11\"\nand h2 : \"card players_substitute = 11\"\nand h3 : \"soccer_team = players_starting \\<union> players_substitute\"\nand h4 : \"substitution players_starting players_substitute \\<in> {0, 1, 2, 3}\"\nand h5 : \"\\<forall>substitution_order. \\<exists>substitution_count. n = (\\<Sum>substitution_order \\<in> {1, 2, 3}. substitution_count)\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes soccer_team :: \"nat set\"\nand players_starting :: \"nat set\"\nand players_substitute :: \"nat set\"\nand substitution :: \"nat set \\<Rightarrow> nat set \\<Rightarrow> nat set\"\nand n :: nat\nassumes h0 : \"card soccer_team = 22\"\nand h1 : \"card players_starting = 11\"\nand h2 : \"card players_substitute = 11\"\nand h3 : \"soccer_team = players_starting \\<union> players_substitute\"\nand h4 : \"substitution players_starting players_substitute \\<in> {0, 1, 2, 3}\"\nand h5 : \"\\<forall>substitution_order. \\<exists>substitution_count. n = (\\<Sum>substitution_order \\<in> {1, 2, 3}. substitution_count)\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "A soccer team has 22 players, with 11 players starting and 11 players on the substitute bench. During a match, the coach can make 0, 1, 2, or 3 substitutions. For each possible substitution order (1, 2, or 3), there is a corresponding number of times the coach can make that number of substitutions. If $n$ is the sum of these counts for all possible substitution orders, find the remainder when $n$ is divided by 1000. The final answer is 122."
    },
    "a_9": {
        "formal problem": "theorem\nfixes players :: nat and n :: nat\nassumes h0 : \"players = 22\"\nand h1 : \"n = card {substitutions::nat list. length substitutions \\<le> 3 \\<and> (\\<forall>i\\<in>{0..<length substitutions}. substitutions ! i < 11) \\<and> distinct substitutions}\"\nshows  \"n mod 1000 = 122\"",
        "formal solution": "(* ### Problem\n A soccer team has $22$ available players. A fixed set of $11$ players starts the game, while the other $11$ are available as substitutes. During the game, the coach may make as many as $3$ substitutions, where any one of the $11$ players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let $n$ be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when $n$ is divided by $1000$.\n The final Answer is 122\n ### Proof\n There are $0-3$ substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for $0$ subs is $1$, and the ways to reorganize after $n$ subs is the product of the number of new subs ($12-n$) and the players that can be ejected ($11$).\n The formula for $n$ subs is then $a_n=11(12-n)a_{n-1}$ with $a_0=1$. Summing from $0$ to $3$ gives $1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9$. Notice that $10+9\\cdot11\\cdot10=10+990=1000$. Then, rearrange it into $1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)$.\n When taking modulo $1000$, the last term goes away. What is left is $1+11^2=\\boxed{122}$.\n *)\n\ntheorem\nfixes players :: nat and n :: nat\nassumes h0 : \"players = 22\"\nand h1 : \"n = card {substitutions::nat list. length substitutions \\<le> 3 \\<and> (\\<forall>i\\<in>{0..<length substitutions}. substitutions ! i < 11) \\<and> distinct substitutions}\"\nshows  \"n mod 1000 = 122\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a soccer team, there are 22 players, and 11 of them are on the field. If a coach can make up to 3 substitutions in a game, and each substitution involves a unique player coming off the bench, how many different ways can the coach make these substitutions? The final answer is 122 modulo 1000."
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}