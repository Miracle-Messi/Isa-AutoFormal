{
    "natural problem": "A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n",
    "natural solution": [
        "If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.",
        "Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.",
        "Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?",
        "This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.",
        "This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$."
    ],
    "natural answer": "931",
    "a_0": {
        "formal problem": "theorem\nfixes n p q :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"\\<forall>i j. 1 \\<le> i \\<and> i < j \\<and> j \\<le> n \\<longrightarrow> r i \\<noteq> r j\"\nand h2 : \"p / q = Prob {i. 1 \\<le> i \\<and> i \\<le> n \\<and> r i = r 20 \\<and> bubble_pass r i = r 30}\"\nand h3 : \"gcd p q = 1\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n p q :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"\\<forall>i j. 1 \\<le> i \\<and> i < j \\<and> j \\<le> n \\<longrightarrow> r i \\<noteq> r j\"\nand h2 : \"p / q = Prob {i. 1 \\<le> i \\<and> i \\<le> n \\<and> r i = r 20 \\<and> bubble_pass r i = r 30}\"\nand h3 : \"gcd p q = 1\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 40 distinct real numbers indexed from 1 to 40. The probability that the 20th number is equal to the 30th number after a bubble pass is given by the reduced fraction $\\frac{p}{q}$, where $p$ and $q$ are relatively prime. What is the sum of $p$ and $q$? The final answer is 931."
    },
    "a_1": {
        "formal problem": "theorem\nfixes p q n :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r [1..n])\"\nand h2 : \"random_permutation r\"\nand h3 : \"probability_after_bubble_pass r 20 30 = Fract p q\"\nand h4 : \"coprime p q\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes p q n :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r [1..n])\"\nand h2 : \"random_permutation r\"\nand h3 : \"probability_after_bubble_pass r 20 30 = Fract p q\"\nand h4 : \"coprime p q\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a random permutation of the numbers from 1 to 40, what is the probability, expressed as a simplified fraction p/q, that after one pass of the bubble sort algorithm, the numbers 20 and 30 will be in the correct order? If p and q are coprime, find the sum p + q. The final answer is 931."
    },
    "a_2": {
        "formal problem": "theorem\nfixes r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"distinct [r 1, r 2, ..., r 40]\"\nand h1 : \"random_order r 40\"\nand h2 : \"bubble_pass r 40\"\nand h3 : \"r 20 \\<rightarrow> r 30 after_one_bubble_pass\"\nshows  \"probability r 20 in_place 30 after_one_bubble_pass = (p :: nat) / (q :: nat)\"\nand \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"distinct [r 1, r 2, ..., r 40]\"\nand h1 : \"random_order r 40\"\nand h2 : \"bubble_pass r 40\"\nand h3 : \"r 20 \\<rightarrow> r 30 after_one_bubble_pass\"\nshows  \"probability r 20 in_place 30 after_one_bubble_pass = (p :: nat) / (q :: nat)\"\nand \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a list of 40 distinct real numbers, they are arranged in a random order. After one pass of the bubble sort algorithm, the number originally in position 20 moves to position 30. What is the probability of this event happening? Express your answer as a common fraction, where p and q are integers such that p + q = 931."
    },
    "a_3": {
        "formal problem": "theorem\nfixes n p q :: nat\nassumes h0 : \"n = 40\"\nand h1 : \"distinct [r1, r2, ..., r40]\"\nand h2 : \"random_order [r1, r2, ..., r40]\"\nand h3 : \"bubble_pass [r1, r2, ..., r40] = [r1', r2', ..., r40']\"\nand h4 : \"r20 = r30'\"\nand h5 : \"p / q = prob r20_in_30th_place\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n p q :: nat\nassumes h0 : \"n = 40\"\nand h1 : \"distinct [r1, r2, ..., r40]\"\nand h2 : \"random_order [r1, r2, ..., r40]\"\nand h3 : \"bubble_pass [r1, r2, ..., r40] = [r1', r2', ..., r40']\"\nand h4 : \"r20 = r30'\"\nand h5 : \"p / q = prob r20_in_30th_place\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 40 distinct objects, labeled $r_1, r_2, \\dots, r_{40}$. They are arranged in a random order. After a single pass of the bubble sort algorithm, the object $r_{20}$ ends up in the 30th position, labeled as $r_{30'}$. What is the probability that $r_{20}$ is in the 30th position? Express your answer as a fraction, and find the sum of the numerator $p$ and the denominator $q$. The final answer is 931."
    },
    "a_4": {
        "formal problem": "theorem\nfixes n r :: nat and P :: \"nat \\<Rightarrow> real\" and r_seq :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r_seq [1..n])\"\nand h2 : \"\\<forall>i\\<in>{1..n}. 0 < r_seq i \\<and> r_seq i \\<le> n\"\nand h3 : \"P r = (\\<Sum>i\\<in>{1..n}. (if i = r then 1 else 0) / (\\<Prod>j\\<in>{1..n}. if j = i then 1 else (1 + (r_seq j - r_seq i))))\"\nand h4 : \"P 20 = p / q\"\nand h5 : \"gcd p q = 1\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n r :: nat and P :: \"nat \\<Rightarrow> real\" and r_seq :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r_seq [1..n])\"\nand h2 : \"\\<forall>i\\<in>{1..n}. 0 < r_seq i \\<and> r_seq i \\<le> n\"\nand h3 : \"P r = (\\<Sum>i\\<in>{1..n}. (if i = r then 1 else 0) / (\\<Prod>j\\<in>{1..n}. if j = i then 1 else (1 + (r_seq j - r_seq i))))\"\nand h4 : \"P 20 = p / q\"\nand h5 : \"gcd p q = 1\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There is a sequence of 40 distinct positive integers, each less than or equal to 40. For a given integer $r$, define $P(r)$ to be the sum of $\\frac{1}{\\prod_{j=1}^{40}(1+(r_j - r_i))}$ for all $i$ such that $i = r$. Given that $P(20) = \\frac{p}{q}$, where $p$ and $q$ are coprime, find the value of $p + q$. The final answer is 931."
    },
    "a_5": {
        "formal problem": "theorem\nfixes n p q :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r [1..n])\"\nand h2 : \"random_order r n\"\nand h3 : \"one_bubble_pass r n\"\nand h4 : \"r 20 ends_up_in_position 30 after_one_bubble_pass\"\nand h5 : \"p / q = probability_of_20_ending_up_in_30 r n\"\nand h6 : \"gcd p q = 1\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n p q :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r [1..n])\"\nand h2 : \"random_order r n\"\nand h3 : \"one_bubble_pass r n\"\nand h4 : \"r 20 ends_up_in_position 30 after_one_bubble_pass\"\nand h5 : \"p / q = probability_of_20_ending_up_in_30 r n\"\nand h6 : \"gcd p q = 1\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a list of 40 distinct numbers, the numbers are randomly ordered. After applying one bubble sort pass, the 20th number ends up in the 30th position. What is the probability of this event occurring, expressed as a simplified fraction? The sum of the numerator and denominator of this fraction is 931."
    },
    "a_6": {
        "formal problem": "theorem\nfixes n p q :: nat\nassumes h0 : \"n = 40\"\nand h1 : \"\\<forall>i \\<in> {1..n}. \\<forall>j \\<in> {1..n}. i \\<noteq> j \\<longrightarrow> r i \\<noteq> r j\"\nand h2 : \"fraction_prob p q = prob (\\<lambda>seq. (seq (20::nat)) ends_in_30th_place_after_bubble_pass seq)\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n p q :: nat\nassumes h0 : \"n = 40\"\nand h1 : \"\\<forall>i \\<in> {1..n}. \\<forall>j \\<in> {1..n}. i \\<noteq> j \\<longrightarrow> r i \\<noteq> r j\"\nand h2 : \"fraction_prob p q = prob (\\<lambda>seq. (seq (20::nat)) ends_in_30th_place_after_bubble_pass seq)\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a sequence of 40 distinct numbers, the probability that a certain number ends up in the 30th place after one pass of the Bubble Sort algorithm is given as a fraction $p/q$. What is the sum of $p$ and $q$? The final answer is 931."
    },
    "a_7": {
        "formal problem": "theorem\nfixes n p q :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r [1..n])\"\nand h2 : \"random_order r\"\nand h3 : \"Fraction (p, q) = probability (r 20 \\<rightarrow> r 30 after_one_bubble_pass)\"\nand h4 : \"gcd p q = 1\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n p q :: nat and r :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n = 40\"\nand h1 : \"distinct (map r [1..n])\"\nand h2 : \"random_order r\"\nand h3 : \"Fraction (p, q) = probability (r 20 \\<rightarrow> r 30 after_one_bubble_pass)\"\nand h4 : \"gcd p q = 1\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 40 distinct real numbers in a list, which are randomly ordered. After applying one pass of a bubble sort algorithm, find the probability, expressed as a reduced fraction, that the 20th smallest number ends up in the 30th position. What is the sum of the numerator and the denominator of this fraction? The final answer is 931."
    },
    "a_8": {
        "formal problem": "s as r 20 will end up, after one bubble pass, in the 30th place)\"\nand h1 : \"gcd p q = 1\"\nshows  \"p + q = 931\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ns as r 20 will end up, after one bubble pass, in the 30th place)\"\nand h1 : \"gcd p q = 1\"\nshows  \"p + q = 931\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given that the greatest common divisor of two integers $p$ and $q$ is 1, find the sum of $p$ and $q$ if it equals 931."
    },
    "a_9": {
        "formal problem": "theorem\nfixes n :: nat and r :: \"nat \\<Rightarrow> real\" and p q :: real\nassumes h0 : \"n = 40\"\nand h1 : \"\\<forall>i j. i < n \\<and> j < n \\<and> i \\<noteq> j \\<longrightarrow> r i \\<noteq> r j\"\nand h2 : \"p / q = (\\<Sum>k\\<in>{1..19}. (1/(n-k))) / (\\<Sum>k\\<in>{1..n}. (1/(n-k)))\"\nand h3 : \"p + q = 931\"\nshows  \"one_bubble_pass_r20_to_r30_probability n r p q\"",
        "formal solution": "(* ### Problem\n A given sequence $r_1, r_2, \\dots, r_n$ of distinct real numbers can be put in ascending order by means of one or more \"bubble passes\". A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, $r_n$, with its current predecessor and exchanging them if and only if the last term is smaller.\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass. The numbers compared at each step are underlined.\n$\\underline{1 \\quad 9} \\quad 8 \\quad 7$\n$1 \\quad {}\\underline{9 \\quad 8} \\quad 7$\n$1 \\quad 8 \\quad \\underline{9 \\quad 7}$\n$1 \\quad 8 \\quad 7 \\quad 9$\nSuppose that $n = 40$, and that the terms of the initial sequence $r_1, r_2, \\dots, r_{40}$ are distinct from one another and are in random order. Let $p/q$, in lowest terms, be the probability that the number that begins as $r_{20}$ will end up, after one bubble pass, in the $30^{\\mbox{th}}$ place. Find $p + q$.\n The final Answer is 931\n ### Proof\n If any of $r_1, \\ldots, r_{19}$ is larger than $r_{20}$, one of these numbers will be compared with $r_{20}$ on the 19th step of the first bubble pass and $r_{20}$ will be moved back to the 19th position.\n Thus, $r_{20}$ must be the largest of the first 20 terms. In addition, $r_{20}$ must be larger than $r_{21}, r_{22}, \\ldots, r_{30}$ but smaller than $r_{31}$ in order that it move right to the 30th position but then not continue moving right to the 31st.\n Thus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n This is much easier to solve: there are $31!$ ways to order the first thirty-one numbers and $29!$ ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th.\n This gives us a desired probability of $\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}$, so the answer is $\\boxed{931}$.\n *)\n\ntheorem\nfixes n :: nat and r :: \"nat \\<Rightarrow> real\" and p q :: real\nassumes h0 : \"n = 40\"\nand h1 : \"\\<forall>i j. i < n \\<and> j < n \\<and> i \\<noteq> j \\<longrightarrow> r i \\<noteq> r j\"\nand h2 : \"p / q = (\\<Sum>k\\<in>{1..19}. (1/(n-k))) / (\\<Sum>k\\<in>{1..n}. (1/(n-k)))\"\nand h3 : \"p + q = 931\"\nshows  \"one_bubble_pass_r20_to_r30_probability n r p q\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 40 distinct real numbers, r(1), r(2), ..., r(40). The ratio of the sum of the reciprocals of the first 19 of these numbers to the sum of the reciprocals of all 40 numbers is given by $p/q$. If $p + q = 931$, what is the value of $p/q$?"
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}