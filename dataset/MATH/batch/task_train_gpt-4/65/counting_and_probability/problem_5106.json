{
    "natural problem": "A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n",
    "natural solution": [
        "Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]",
        "Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]",
        "Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that",
        "\\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!",
        "}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]",
        "Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.",
        "Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.",
        "One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.",
        "Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.",
        "However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.",
        "Thus, the answer is $\\boxed{557}$."
    ],
    "natural answer": "557",
    "a_0": {
        "formal problem": "theorem\nfixes n :: nat and C :: \"(nat \\<Rightarrow> nat) \\<Rightarrow> nat\"\nassumes h0 : \"9 \\<le> n\"\nand h1 : \"n \\<le> 2017\"\nand h2 : \"C (\\<lambda>k. (n choose k)) = (\\<Sum>k\\<in>{0..n}. (n choose k))\"\nand h3 : \"C (\\<lambda>k. (k choose 5)) = (\\<Sum>k\\<in>{0..n}. (k choose 5))\"\nand h4 : \"C (\\<lambda>k. (k choose 4)) = (\\<Sum>k\\<in>{0..n}. (k choose 4))\"\nand h5 : \"C (\\<lambda>k. (9 choose k)) = (\\<Sum>k\\<in>{0..9}. (9 choose k))\"\nand h6 : \"C (\\<lambda>k. (8 choose k)) = (\\<Sum>k\\<in>{0..8}. (8 choose k))\"\nand h7 : \"C (\\<lambda>k. (n - 9)) = (\\<Sum>k\\<in>{0..(n - 9)}. (n - 9 choose k))\"\nand h8 : \"C (\\<lambda>k. (n - 8)) = (\\<Sum>k\\<in>{0..(n - 8)}. (n - 8 choose k))\"\nand h9 : \"C (\\<lambda>k. (9 choose 5)) = (9 choose 5)\"\nand h10 : \"C (\\<lambda>k. (8 choose 4)) = (8 choose 4)\"\nand h11 : \"(\\<Sum>k\\<in>{0..9}. (C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (9 - k))) * (9 choose k)))) = (\\<Sum>k\\<in>{0..8}. (C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (8 - k))) * (8 choose k))))\"\nshows  \"card {n. (\\<forall> k \\<in> {9..2017}. C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (9 - k))) * (9 choose k)) = C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (8 - k))) * (8 choose k)))} = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat and C :: \"(nat \\<Rightarrow> nat) \\<Rightarrow> nat\"\nassumes h0 : \"9 \\<le> n\"\nand h1 : \"n \\<le> 2017\"\nand h2 : \"C (\\<lambda>k. (n choose k)) = (\\<Sum>k\\<in>{0..n}. (n choose k))\"\nand h3 : \"C (\\<lambda>k. (k choose 5)) = (\\<Sum>k\\<in>{0..n}. (k choose 5))\"\nand h4 : \"C (\\<lambda>k. (k choose 4)) = (\\<Sum>k\\<in>{0..n}. (k choose 4))\"\nand h5 : \"C (\\<lambda>k. (9 choose k)) = (\\<Sum>k\\<in>{0..9}. (9 choose k))\"\nand h6 : \"C (\\<lambda>k. (8 choose k)) = (\\<Sum>k\\<in>{0..8}. (8 choose k))\"\nand h7 : \"C (\\<lambda>k. (n - 9)) = (\\<Sum>k\\<in>{0..(n - 9)}. (n - 9 choose k))\"\nand h8 : \"C (\\<lambda>k. (n - 8)) = (\\<Sum>k\\<in>{0..(n - 8)}. (n - 8 choose k))\"\nand h9 : \"C (\\<lambda>k. (9 choose 5)) = (9 choose 5)\"\nand h10 : \"C (\\<lambda>k. (8 choose 4)) = (8 choose 4)\"\nand h11 : \"(\\<Sum>k\\<in>{0..9}. (C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (9 - k))) * (9 choose k)))) = (\\<Sum>k\\<in>{0..8}. (C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (8 - k))) * (8 choose k))))\"\nshows  \"card {n. (\\<forall> k \\<in> {9..2017}. C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (9 - k))) * (9 choose k)) = C (\\<lambda>n. (n choose k)) * (C (\\<lambda>n. (n choose (8 - k))) * (8 choose k)))} = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider all integers $n$ between 9 and 2017, inclusive. Let $C(S)$ denote the sum of all elements in a given sequence $S$. For each $n$, compute the following sums:\n\n1. $C(\\binom{n}{k})$ for $k = 0$ to $n$\n2. $C(\\binom{k}{5})$ for $k = 0$ to $n$\n3. $C(\\binom{k}{4})$ for $k = 0$ to $n$\n4. $C(\\binom{9}{k})$ for $k = 0$ to $9$\n5. $C(\\binom{8}{k})$ for $k = 0$ to $8$\n6. $C(\\binom{n-9}{k})$ for $k = 0$ to $(n-9)$\n7. $C(\\binom{n-8}{k})$ for $k = 0$ to $(n-8)$\n8. $C(\\binom{9}{5})$ for $k = 9$\n9. $C(\\binom{8}{4})$ for $k = 8$\n\nNow, for each $n$, consider the following sums:\n\n1. $\\sum_{k=0}^{9} C(\\binom{n}{k}) C(\\binom{n}{9-k}) \\binom{9}{k}$\n2. $\\sum_{k=0}^{8} C(\\binom{n}{k}) C(\\binom{n}{8-k}) \\binom{8}{k}$\n\nFind the number of integers $n$ for which the two sums above are equal. The final answer is 557."
    },
    "a_1": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. 1) = (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. 1)\"\nshows  \"card {n. \\<exists> n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. 1) = (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. 1)} = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. 1) = (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. 1)\"\nshows  \"card {n. \\<exists> n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 9. 1) = (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. (\\<Sum>(T::nat set) | T \\<subseteq> S \\<and> card T = 5. 1)) / (\\<Sum>(S::nat set) | S \\<subseteq> {1..n} \\<and> card S = 8. 1)} = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Find the number of integers $n$ between $9$ and $2017$ (inclusive) such that the ratio of the number of ways to choose a set of $5$ elements from a set of $9$ elements, to the total number of ways to choose a set of $9$ elements from a set of $1$ to $n$, is equal to the ratio of the number of ways to choose a set of $5$ elements from a set of $8$ elements, to the total number of ways to choose a set of $8$ elements from the same set of $1$ to $n$. The final answer is $557$."
    },
    "a_2": {
        "formal problem": "theorem\nfixes n :: nat and S T :: \"nat set\"\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"\\<forall>subset_nine. card subset_nine = 9 \\<and> subset_nine \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_nine) = reciprocal_average_complete_teams_of_eight S\"\nand h2 : \"\\<forall>subset_eight. card subset_eight = 8 \\<and> subset_eight \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_eight) = reciprocal_average_complete_teams_of_nine S\"\nand h3 : \"no_duplicate_teams S\"\nand h4 : \"card S = n\"\nshows  \"card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<forall>subset_nine. card subset_nine = 9 \\<and> subset_nine \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_nine) = reciprocal_average_complete_teams_of_eight S) \\<and>\n        (\\<forall>subset_eight. card subset_eight = 8 \\<and> subset_eight \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_eight) = reciprocal_average_complete_teams_of_nine S)} = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat and S T :: \"nat set\"\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"\\<forall>subset_nine. card subset_nine = 9 \\<and> subset_nine \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_nine) = reciprocal_average_complete_teams_of_eight S\"\nand h2 : \"\\<forall>subset_eight. card subset_eight = 8 \\<and> subset_eight \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_eight) = reciprocal_average_complete_teams_of_nine S\"\nand h3 : \"no_duplicate_teams S\"\nand h4 : \"card S = n\"\nshows  \"card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<forall>subset_nine. card subset_nine = 9 \\<and> subset_nine \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_nine) = reciprocal_average_complete_teams_of_eight S) \\<and>\n        (\\<forall>subset_eight. card subset_eight = 8 \\<and> subset_eight \\<subseteq> S \\<longrightarrow>\n          (average_complete_teams subset_eight) = reciprocal_average_complete_teams_of_nine S)} = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Let $S$ be a set of distinct natural numbers with $9 \\leq n \\leq 2017$ and $n$ elements. Consider all possible subsets of $S$ with 9 elements, called \"complete teams of nine.\" For each of these subsets, the average of the elements is equal to the reciprocal of the average of the elements in all possible subsets of $S$ with 8 elements, called \"complete teams of eight.\" Similarly, for each subset of $S$ with 8 elements, the average of the elements is equal to the reciprocal of the average of the elements in all possible subsets of $S$ with 9 elements. \n\nHow many sets $S$ satisfy these conditions? The final answer is 557."
    },
    "a_3": {
        "formal problem": "theorem\nfixes n :: nat and teams :: \"nat set \\<Rightarrow> nat\"\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum>A | card A = 9 \\<and> A \\<subseteq> {1..n}. teams A) * (\\<Sum>B | card B = 8 \\<and> B \\<subseteq> {1..n}. teams B) = (\\<Sum>A | card A = 9 \\<and> A \\<subseteq> {1..n}. 1)\"\nshows  \"n = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat and teams :: \"nat set \\<Rightarrow> nat\"\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum>A | card A = 9 \\<and> A \\<subseteq> {1..n}. teams A) * (\\<Sum>B | card B = 8 \\<and> B \\<subseteq> {1..n}. teams B) = (\\<Sum>A | card A = 9 \\<and> A \\<subseteq> {1..n}. 1)\"\nshows  \"n = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Suppose that there are between 9 and 2017 teams participating in a competition, and let $n$ be the number of teams. If the sum of all possible combinations of 9 teams multiplied by the sum of all possible combinations of 8 teams is equal to the sum of all possible combinations of 9 teams, find the value of $n$. The final answer is 557."
    },
    "a_4": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum>S\\<in>binomial_set n 9. num_complete_teams S) / (binomial n 9) = 1 / ((\\<Sum>S\\<in>binomial_set n 8. num_complete_teams S) / (binomial n 8))\"\nshows  \"\\<exists> m :: nat. card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<Sum>S\\<in>binomial_set n 9. num_complete_teams S) / (binomial n 9) = 1 / ((\\<Sum>S\\<in>binomial_set n 8. num_complete_teams S) / (binomial n 8))} = m\"\nand \"m = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum>S\\<in>binomial_set n 9. num_complete_teams S) / (binomial n 9) = 1 / ((\\<Sum>S\\<in>binomial_set n 8. num_complete_teams S) / (binomial n 8))\"\nshows  \"\\<exists> m :: nat. card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<Sum>S\\<in>binomial_set n 9. num_complete_teams S) / (binomial n 9) = 1 / ((\\<Sum>S\\<in>binomial_set n 8. num_complete_teams S) / (binomial n 8))} = m\"\nand \"m = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a sports league with $n$ teams, there are $\\binom{n}{9}$ ways to form a group of 9 teams and $\\binom{n}{8}$ ways to form a group of 8 teams. Let $num\\_complete\\_teams(S)$ be the number of complete teams in a set $S$.\n\nFor each $n$ in the range 9 to 2017, find the ratio of the sum of $num\\_complete\\_teams(S)$ for all possible groups of 9 teams to the sum of $num\\_complete\\_teams(S)$ for all possible groups of 8 teams. If this ratio is equal to $\\frac{1}{k}$, where $k$ is a constant, find the total number of such $n$ values.\n\nThe final answer is 557."
    },
    "a_5": {
        "formal problem": "theorem\nfixes n :: nat and teams :: \"nat set\"\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"card teams = n\"\nand h2 : \"\\<forall> T. T \\<subseteq> teams \\<longrightarrow> (card T = 5 \\<longrightarrow> (\\<forall> U. U \\<subseteq> teams \\<and> U \\<noteq> T \\<longrightarrow> card (T \\<inter> U) \\<noteq> 5))\"\nand h3 : \"(\\<Sum>S | S \\<subseteq> teams \\<and> card S = 9. count_complete_teams S) / (binomial n 9) = 1 / ((\\<Sum>S | S \\<subseteq> teams \\<and> card S = 8. count_complete_teams S) / (binomial n 8))\"\nshows  \"n = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat and teams :: \"nat set\"\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"card teams = n\"\nand h2 : \"\\<forall> T. T \\<subseteq> teams \\<longrightarrow> (card T = 5 \\<longrightarrow> (\\<forall> U. U \\<subseteq> teams \\<and> U \\<noteq> T \\<longrightarrow> card (T \\<inter> U) \\<noteq> 5))\"\nand h3 : \"(\\<Sum>S | S \\<subseteq> teams \\<and> card S = 9. count_complete_teams S) / (binomial n 9) = 1 / ((\\<Sum>S | S \\<subseteq> teams \\<and> card S = 8. count_complete_teams S) / (binomial n 8))\"\nshows  \"n = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are $n$ teams with $9 \\leq n \\leq 2017$. The number of teams is such that for any subset $T$ of the teams with 5 members, there is no other subset $U$ of the teams with $U \\neq T$ such that $T$ and $U$ share all 5 members. The ratio of the number of ways to choose 9 teams (out of the $n$ teams) to the number of ways to choose 8 teams (out of the $n$ teams) is equal to 1 divided by the number of ways to choose 5 teams (out of the $n$ teams). Find the value of $n$. The final answer is 557."
    },
    "a_6": {
        "formal problem": "theorem\nfixes n :: nat and avg_sub9 avg_sub8 :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n \\<ge> 9\"\nand h1 : \"n \\<le> 2017\"\nand h2 : \"\\<forall> n. avg_sub9 n = 1 / avg_sub8 n\"\nand h3 : \"\\<forall> n. avg_sub9 n = card {T. size T = 5 \\<and> T \\<subseteq> {1..n}} / (n choose 9)\"\nand h4 : \"\\<forall> n. avg_sub8 n = card {T. size T = 5 \\<and> T \\<subseteq> {1..n}} / (n choose 8)\"\nshows  \"card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<forall> n. avg_sub9 n = 1 / avg_sub8 n)} = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat and avg_sub9 avg_sub8 :: \"nat \\<Rightarrow> real\"\nassumes h0 : \"n \\<ge> 9\"\nand h1 : \"n \\<le> 2017\"\nand h2 : \"\\<forall> n. avg_sub9 n = 1 / avg_sub8 n\"\nand h3 : \"\\<forall> n. avg_sub9 n = card {T. size T = 5 \\<and> T \\<subseteq> {1..n}} / (n choose 9)\"\nand h4 : \"\\<forall> n. avg_sub8 n = card {T. size T = 5 \\<and> T \\<subseteq> {1..n}} / (n choose 8)\"\nshows  \"card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> (\\<forall> n. avg_sub9 n = 1 / avg_sub8 n)} = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "For all integers $n$ between 9 and 2017, let $avg\\_sub9(n)$ be the ratio of the number of 5-element subsets of $\\{1,2,\\dots,n\\}$ to the number of ways to choose 9 elements from a set of $n$ elements. Let $avg\\_sub8(n)$ be the ratio of the number of 5-element subsets of $\\{1,2,\\dots,n\\}$ to the number of ways to choose 8 elements from a set of $n$ elements. Find the number of integers $n$ between 9 and 2017 for which $avg\\_sub9(n) = \\frac{1}{avg\\_sub8(n)}$. The final answer is 557."
    },
    "a_7": {
        "formal problem": "(* Note: This problem requires combinatorics and set theory, which are not easily translatable into the Isabelle language. *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum> {S. size S = 9 \\<and> S \\<subseteq> {1..n}} (\\<lambda> S. num_complete_teams S))\n         = (\\<Sum> {S. size S = 8 \\<and> S \\<subseteq> {1..n}} (\\<lambda> S. reciprocal (num_complete_teams S)))\"\nshows  \"n = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\n(* Note: This problem requires combinatorics and set theory, which are not easily translatable into the Isabelle language. *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"(\\<Sum> {S. size S = 9 \\<and> S \\<subseteq> {1..n}} (\\<lambda> S. num_complete_teams S))\n         = (\\<Sum> {S. size S = 8 \\<and> S \\<subseteq> {1..n}} (\\<lambda> S. reciprocal (num_complete_teams S)))\"\nshows  \"n = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Suppose there is a set of numbers ranging from 1 to $n$ with $9 \\leq n \\leq 2017$. A complete team is a subset of 9 distinct numbers from the set, and the function \"num_complete_teams\" calculates the number of complete teams that can be formed from a given subset. It is given that the sum of the number of complete teams for all subsets of size 9 is equal to the sum of the reciprocals of the number of complete teams for all subsets of size 8. Find the value of $n$. The final answer is 557."
    },
    "a_8": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"average (\\<lambda>S. complete_teams S) (subsets_of_size 9 n) = \n          1 / average (\\<lambda>S. complete_teams S) (subsets_of_size 8 n)\"\nshows  \"card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> P n} = 557\"\n",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n \\<and> n \\<le> 2017\"\nand h1 : \"average (\\<lambda>S. complete_teams S) (subsets_of_size 9 n) = \n          1 / average (\\<lambda>S. complete_teams S) (subsets_of_size 8 n)\"\nshows  \"card {n. 9 \\<le> n \\<and> n \\<le> 2017 \\<and> P n} = 557\"\n\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a set of $n$ people, where $9 \\leq n \\leq 2017$. Let $complete\\_teams(S)$ be a function that returns the number of complete teams of 9 people that can be formed from a given subset $S$. The average number of complete teams of 9 people formed from all possible subsets of size 9 is equal to the reciprocal of the average number of complete teams of 8 people formed from all possible subsets of size 8. Determine the number of possible values of $n$ for which this condition holds. The final answer is 557."
    },
    "a_9": {
        "formal problem": "theorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n\"\nand h1 : \"n \\<le> 2017\"\nand h2 : \"average_teams 9 n = 1 / average_teams 8 n\"\nand h3 : \"average_teams k n = ( \\<Sum> X | X \\<subseteq> {1..n} \\<and> card X = k . count_teams X) / (n choose k)\"\nand h4 : \"count_teams X = card { T | T \\<subseteq> X \\<and> card T = 5 }\"\nshows  \"card { n | 9 \\<le> n \\<and> n \\<le> 2017 \\<and> average_teams 9 n = 1 / average_teams 8 n } = 557\"",
        "formal solution": "(* ### Problem\n A set of $n$ people participate in an online video basketball tournament. Each person may be a member of any number of $5$-player teams, but no two teams may have exactly the same $5$ members. The site statistics show a curious fact: The average, over all subsets of size $9$ of the set of $n$ participants, of the number of complete teams whose members are among those $9$ people is equal to the reciprocal of the average, over all subsets of size $8$ of the set of $n$ participants, of the number of complete teams whose members are among those $8$ people. How many values $n$, $9\\leq n\\leq 2017$, can be the number of participants?\n$\\textbf{(A) } 477 \\qquad \\textbf{(B) } 482 \\qquad \\textbf{(C) } 487 \\qquad \\textbf{(D) } 557 \\qquad \\textbf{(E) } 562$\n The final Answer is 557\n ### Proof\n Let there be $T$ teams. For each team, there are ${n-5\\choose 4}$ different subsets of $9$ players including that full team, so the total number of team-(group of 9) pairs is \\[T{n-5\\choose 4}.\\]\n Thus, the expected value of the number of full teams in a random set of $9$ players is \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}.\\]\n Similarly, the expected value of the number of full teams in a random set of $8$ players is \\[\\frac{T{n-5\\choose 3}}{{n\\choose 8}}.\\] The condition is thus equivalent to the existence of a positive integer $T$ such that\n \\[\\frac{T{n-5\\choose 4}}{{n\\choose 9}}\\frac{T{n-5\\choose 3}}{{n\\choose 8}} = 1.\\] \\[T^2\\frac{(n-5)!(n-5)!8!9!(n-8)!(n-9)!}{n!n!(n-8)!(n-9)!3!4!} = 1\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{3!4!}{8!9!\n }\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{144}{7!7!8\\cdot8\\cdot9}\\] \\[T^2 = \\big((n)(n-1)(n-2)(n-3)(n-4)\\big)^2 \\frac{1}{4\\cdot7!7! }\\] \\[T = \\frac{(n)(n-1)(n-2)(n-3)(n-4)}{2^5\\cdot3^2\\cdot5\\cdot7}\\]\n Note that this is always less than ${n\\choose 5}$, so as long as $T$ is integral, $n$ is a possibility.\n Thus, we have that this is equivalent to \\[2^5\\cdot3^2\\cdot5\\cdot7\\big|(n)(n-1)(n-2)(n-3)(n-4).\\] It is obvious that $5$ divides the RHS, and that $7$ does iff $n\\equiv 0,1,2,3,4\\mod 7$. Also, $3^2$ divides it iff $n\\not\\equiv 5,8\\mod 9$.\n One can also bash out that $2^5$ divides it in $16$ out of the $32$ possible residues $\\mod 32$.\n Using all numbers from $2$ to $2017$, inclusive, it is clear that each possible residue $\\mod 7,9,32$ is reached an equal number of times, so the total number of working $n$ in that range is $5\\cdot 7\\cdot 16 = 560$.\n However, we must subtract the number of \"working\" $2\\leq n\\leq 8$, which is $3$.\n Thus, the answer is $\\boxed{557}$.\n *)\n\ntheorem\nfixes n :: nat\nassumes h0 : \"9 \\<le> n\"\nand h1 : \"n \\<le> 2017\"\nand h2 : \"average_teams 9 n = 1 / average_teams 8 n\"\nand h3 : \"average_teams k n = ( \\<Sum> X | X \\<subseteq> {1..n} \\<and> card X = k . count_teams X) / (n choose k)\"\nand h4 : \"count_teams X = card { T | T \\<subseteq> X \\<and> card T = 5 }\"\nshows  \"card { n | 9 \\<le> n \\<and> n \\<le> 2017 \\<and> average_teams 9 n = 1 / average_teams 8 n } = 557\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider a set of $n$ teams, where $9 \\leq n \\leq 2017$. The average number of 5-member teams that can be formed from a subset of $k$ teams ($k = 8$ or $k = 9$) is defined as the total number of such teams divided by the number of ways to choose $k$ teams from the $n$ teams. Find the number of values of $n$ for which the average number of 5-member teams that can be formed from a subset of 9 teams is equal to the reciprocal of the average number of 5-member teams that can be formed from a subset of 8 teams. The final answer is 557."
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}