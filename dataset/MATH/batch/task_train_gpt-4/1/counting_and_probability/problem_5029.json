{
    "natural problem": "A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n",
    "natural solution": [
        "On his first pass, he opens all of the odd lockers.",
        "So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.",
        "He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.",
        "He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.",
        "He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker."
    ],
    "natural answer": "342",
    "a_0": {
        "formal problem": "theorem\nfixes lockers :: \"nat list\" and student :: \"nat \\<Rightarrow> nat list \\<Rightarrow> nat list\"\nassumes h0 : \"length lockers = 1024\"\nand h1 : \"closed_locker = (\\<lambda>n. n = 0)\"\nand h2 : \"open_locker = (\\<lambda>n. n \\<noteq> 0)\"\nand h3 : \"student = (\\<lambda>n lockers. if closed_locker (lockers ! n) then open_locker (lockers ! n) else lockers)\"\nand h4 : \"\\<forall>i < 1024. open_locker (student i lockers ! i)\"\nshows  \"lockers ! 341 = 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes lockers :: \"nat list\" and student :: \"nat \\<Rightarrow> nat list \\<Rightarrow> nat list\"\nassumes h0 : \"length lockers = 1024\"\nand h1 : \"closed_locker = (\\<lambda>n. n = 0)\"\nand h2 : \"open_locker = (\\<lambda>n. n \\<noteq> 0)\"\nand h3 : \"student = (\\<lambda>n lockers. if closed_locker (lockers ! n) then open_locker (lockers ! n) else lockers)\"\nand h4 : \"\\<forall>i < 1024. open_locker (student i lockers ! i)\"\nshows  \"lockers ! 341 = 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a school, there are 1024 lockers numbered from 1 to 1024. Initially, all lockers are closed. Each student walks down the hallway and opens or closes lockers according to the following rule: if a locker is closed, the student opens it, otherwise, the locker remains unchanged. After all 1024 students have gone through the hallway, the lockers that are left open have numbers equal to the student's index. What is the number of the locker at position 341 that is left open? The final answer is 342."
    },
    "a_1": {
        "formal problem": "theorem\nfixes lockers :: \"nat \\<Rightarrow> bool\" and opened :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> lockers n\"\nand h1 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> opened n \\<longrightarrow> \\<not> lockers n\"\nand h2 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> \\<not> opened n \\<longrightarrow> lockers n\"\nand h3 : \"lockers 1\"\nand h4 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> n mod 2 = 0 \\<longrightarrow> opened n\"\nand h5 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> n mod 2 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h6 : \"\\<forall>n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<and> n mod 4 = 0 \\<longrightarrow> opened n\"\nand h7 : \"\\<forall>n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<and> n mod 4 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h8 : \"\\<forall>n. n \\<ge> 4 \\<and> n \\<le> 1024 \\<and> n mod 8 = 0 \\<longrightarrow> opened n\"\nand h9 : \"\\<forall>n. n \\<ge> 4 \\<and> n \\<le> 1024 \\<and> n mod 8 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h10 : \"\\<forall>n. n \\<ge> 8 \\<and> n \\<le> 1024 \\<and> n mod 16 = 0 \\<longrightarrow> opened n\"\nand h11 : \"\\<forall>n. n \\<ge> 8 \\<and> n \\<le> 1024 \\<and> n mod 16 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h12 : \"\\<forall>n. n \\<ge> 16 \\<and> n \\<le> 1024 \\<and> n mod 32 = 0 \\<longrightarrow> opened n\"\nand h13 : \"\\<forall>n. n \\<ge> 16 \\<and> n \\<le> 1024 \\<and> n mod 32 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h14 : \"\\<forall>n. n \\<ge> 32 \\<and> n \\<le> 1024 \\<and> n mod 64 = 0 \\<longrightarrow> opened n\"\nand h15 : \"\\<forall>n. n \\<ge> 32 \\<and> n \\<le> 1024 \\<and> n mod 64 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h16 : \"\\<forall>n. n \\<ge> 64 \\<and> n \\<le> 1024 \\<and> n mod 128 = 0 \\<longrightarrow> opened n\"\nand h17 : \"\\<forall>n. n \\<ge> 64 \\<and> n \\<le> 1024 \\<and> n mod 128 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h18 : \"\\<forall>n. n \\<ge> 128 \\<and> n \\<le> 1024 \\<and> n mod 256 = 0 \\<longrightarrow> opened n\"\nand h19 : \"\\<forall>n. n \\<ge> 128 \\<and> n \\<le>",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes lockers :: \"nat \\<Rightarrow> bool\" and opened :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> lockers n\"\nand h1 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> opened n \\<longrightarrow> \\<not> lockers n\"\nand h2 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> \\<not> opened n \\<longrightarrow> lockers n\"\nand h3 : \"lockers 1\"\nand h4 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> n mod 2 = 0 \\<longrightarrow> opened n\"\nand h5 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<and> n mod 2 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h6 : \"\\<forall>n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<and> n mod 4 = 0 \\<longrightarrow> opened n\"\nand h7 : \"\\<forall>n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<and> n mod 4 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h8 : \"\\<forall>n. n \\<ge> 4 \\<and> n \\<le> 1024 \\<and> n mod 8 = 0 \\<longrightarrow> opened n\"\nand h9 : \"\\<forall>n. n \\<ge> 4 \\<and> n \\<le> 1024 \\<and> n mod 8 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h10 : \"\\<forall>n. n \\<ge> 8 \\<and> n \\<le> 1024 \\<and> n mod 16 = 0 \\<longrightarrow> opened n\"\nand h11 : \"\\<forall>n. n \\<ge> 8 \\<and> n \\<le> 1024 \\<and> n mod 16 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h12 : \"\\<forall>n. n \\<ge> 16 \\<and> n \\<le> 1024 \\<and> n mod 32 = 0 \\<longrightarrow> opened n\"\nand h13 : \"\\<forall>n. n \\<ge> 16 \\<and> n \\<le> 1024 \\<and> n mod 32 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h14 : \"\\<forall>n. n \\<ge> 32 \\<and> n \\<le> 1024 \\<and> n mod 64 = 0 \\<longrightarrow> opened n\"\nand h15 : \"\\<forall>n. n \\<ge> 32 \\<and> n \\<le> 1024 \\<and> n mod 64 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h16 : \"\\<forall>n. n \\<ge> 64 \\<and> n \\<le> 1024 \\<and> n mod 128 = 0 \\<longrightarrow> opened n\"\nand h17 : \"\\<forall>n. n \\<ge> 64 \\<and> n \\<le> 1024 \\<and> n mod 128 \\<noteq> 0 \\<longrightarrow> \\<not> opened n\"\nand h18 : \"\\<forall>n. n \\<ge> 128 \\<and> n \\<le> 1024 \\<and> n mod 256 = 0 \\<longrightarrow> opened n\"\nand h19 : \"\\<forall>n. n \\<ge> 128 \\<and> n \\<le>\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a school, there are 1024 lockers. A student performs a series of locker opening and closing operations as follows:\n\n1. Initially, all lockers are closed.\n2. In the first round, the student opens every locker.\n3. In the second round, the student toggles the state (opens if closed and closes if opened) of every 2nd locker.\n4. In the third round, the student toggles the state of every 4th locker.\n5. In the fourth round, the student toggles the state of every 8th locker.\n6. In the fifth round, the student toggles the state of every 16th locker.\n7. In the sixth round, the student toggles the state of every 32nd locker.\n8. In the seventh round, the student toggles the state of every 64th locker.\n9. In the eighth round, the student toggles the state of every 128th locker.\n10. In the ninth round, the student toggles the state of every 256th locker.\n\nDetermine the state of the lockers after the ninth round."
    },
    "a_2": {
        "formal problem": "theorem\nfixes open_locker :: \"nat \\<Rightarrow> bool\" and last_locker :: nat\nassumes h0 : \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 1024 \\<longrightarrow> (open_locker i \\<longleftrightarrow> (\\<exists>n. n \\<ge> 1 \\<and> (\\<forall>k < n. (i + k * (2 ^ k)) \\<le> 1024) \\<and> (i + n * (2 ^ n)) > 1024))\"\nand h1 : \"last_locker = (GREATEST n. open_locker n)\"\nshows  \"last_locker = 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes open_locker :: \"nat \\<Rightarrow> bool\" and last_locker :: nat\nassumes h0 : \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 1024 \\<longrightarrow> (open_locker i \\<longleftrightarrow> (\\<exists>n. n \\<ge> 1 \\<and> (\\<forall>k < n. (i + k * (2 ^ k)) \\<le> 1024) \\<and> (i + n * (2 ^ n)) > 1024))\"\nand h1 : \"last_locker = (GREATEST n. open_locker n)\"\nshows  \"last_locker = 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1024 lockers in a row. A locker is open if and only if there exists a positive integer $n$ such that for all $k<n$, the locker number $i+k\\cdot 2^k$ is not greater than 1024, but the locker number $i+n\\cdot 2^n$ is greater than 1024. Find the number of the last open locker. The final answer is 342."
    },
    "a_3": {
        "formal problem": "theorem\nfixes lockers :: \"nat list\" and student_action :: \"nat \\<Rightarrow> nat list \\<Rightarrow> nat list\"\nassumes h0 : \"lockers = [1..1024]\"\nand h1 : \"\\<forall> n. student_action n lockers = (if n \\<in> set lockers then lockers - [n] else lockers)\"\nand h2 : \"\\<forall> lockers. (\\<forall> n \\<in> set lockers. \\<exists> k. n = student_action k lockers) \\<longrightarrow> (\\<forall> n \\<in> set lockers. n = 0)\"\nshows  \"student_action 342 lockers = []\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes lockers :: \"nat list\" and student_action :: \"nat \\<Rightarrow> nat list \\<Rightarrow> nat list\"\nassumes h0 : \"lockers = [1..1024]\"\nand h1 : \"\\<forall> n. student_action n lockers = (if n \\<in> set lockers then lockers - [n] else lockers)\"\nand h2 : \"\\<forall> lockers. (\\<forall> n \\<in> set lockers. \\<exists> k. n = student_action k lockers) \\<longrightarrow> (\\<forall> n \\<in> set lockers. n = 0)\"\nshows  \"student_action 342 lockers = []\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1024 lockers numbered from 1 to 1024. Each student performs an action on the lockers: if the student's number is in the set of lockers, they remove the locker with that number from the set. Otherwise, they do nothing. If every locker can be removed by some student action, then all lockers will eventually have a number 0. What happens when the 342nd student performs their action? The final answer is that the locker set becomes empty."
    },
    "a_4": {
        "formal problem": "theorem\nfixes open_locker :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"open_locker 1\"\nand h1 : \"\\<forall> n. n \\<in> {1..1024} \\<longrightarrow> (\\<exists> k. n = 2*k \\<longrightarrow> open_locker n = (\\<not> open_locker (n - 1)))\"\nand h2 : \"\\<forall> n. n \\<in> {1..1024} \\<longrightarrow> (\\<exists> k. n = 2*k + 1 \\<longrightarrow> open_locker n = (\\<not> open_locker (n - 1)))\"\nand h3 : \"\\<forall> n. n \\<in> {1..1023} \\<longrightarrow> open_locker n \\<longrightarrow> open_locker (n + 1)\"\nand h4 : \"\\<forall> n. n \\<in> {2..1024} \\<longrightarrow> open_locker n \\<longrightarrow> open_locker (n - 1)\"\nshows  \"open_locker 342 \\<and> (\\<forall> n > 342. n \\<le> 1024 \\<longrightarrow> open_locker n)\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes open_locker :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"open_locker 1\"\nand h1 : \"\\<forall> n. n \\<in> {1..1024} \\<longrightarrow> (\\<exists> k. n = 2*k \\<longrightarrow> open_locker n = (\\<not> open_locker (n - 1)))\"\nand h2 : \"\\<forall> n. n \\<in> {1..1024} \\<longrightarrow> (\\<exists> k. n = 2*k + 1 \\<longrightarrow> open_locker n = (\\<not> open_locker (n - 1)))\"\nand h3 : \"\\<forall> n. n \\<in> {1..1023} \\<longrightarrow> open_locker n \\<longrightarrow> open_locker (n + 1)\"\nand h4 : \"\\<forall> n. n \\<in> {2..1024} \\<longrightarrow> open_locker n \\<longrightarrow> open_locker (n - 1)\"\nshows  \"open_locker 342 \\<and> (\\<forall> n > 342. n \\<le> 1024 \\<longrightarrow> open_locker n)\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1024 lockers in a row, numbered 1 through 1024. A locker is considered open if it satisfies the following rules:\n\n1. Locker 1 is open.\n2. For even-numbered lockers, their open status is the opposite of the locker before them.\n3. For odd-numbered lockers, their open status is the opposite of the locker before them.\n4. If a locker is open, then the locker immediately after it is also open.\n5. If a locker is open, then the locker immediately before it is also open.\n\nIs locker 342 open, and are all lockers from 343 to 1024 also open?"
    },
    "a_5": {
        "formal problem": "theorem\nfixes lockers :: \"nat \\<Rightarrow> bool\"\nand open_locker :: \"nat \\<Rightarrow> nat\"\nand last_locker_opened :: nat\nassumes h0 : \"\\<forall> n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> lockers n = False\"\nand h1 : \"open_locker 1 = True\"\nand h2 : \"\\<forall> n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<longrightarrow> open_locker n = Not (open_locker (n - 1))\"\nand h3 : \"last_locker_opened = (GREATEST n. open_locker n = True \\<and> (\\<forall> m > n. open_locker m = False))\"\nshows  \"last_locker_opened = 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes lockers :: \"nat \\<Rightarrow> bool\"\nand open_locker :: \"nat \\<Rightarrow> nat\"\nand last_locker_opened :: nat\nassumes h0 : \"\\<forall> n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> lockers n = False\"\nand h1 : \"open_locker 1 = True\"\nand h2 : \"\\<forall> n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<longrightarrow> open_locker n = Not (open_locker (n - 1))\"\nand h3 : \"last_locker_opened = (GREATEST n. open_locker n = True \\<and> (\\<forall> m > n. open_locker m = False))\"\nshows  \"last_locker_opened = 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a row of 1024 lockers, initially all lockers are closed. Starting with the first locker, we open it. Then, for each subsequent locker, we change its state (open if it was closed, closed if it was open) based on the state of the previous locker. What is the number of the last locker that was opened? The final answer is 342."
    },
    "a_6": {
        "formal problem": "theorem\nfixes last_opened :: nat and lockers :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"\\<forall> n. n \\<ge> 1 \\<and> n \\<le> 1024\"\nand h1 : \"lockers 1 = True\"\nand h2 : \"\\<forall> n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<longrightarrow> (lockers n = (\\<not> lockers (n - 1)))\"\nand h3 : \"last_opened = (GREATEST n. lockers n \\<and> (\\<forall> m > n. \\<not> lockers m))\"\nshows  \"last_opened = 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes last_opened :: nat and lockers :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"\\<forall> n. n \\<ge> 1 \\<and> n \\<le> 1024\"\nand h1 : \"lockers 1 = True\"\nand h2 : \"\\<forall> n. n \\<ge> 2 \\<and> n \\<le> 1024 \\<longrightarrow> (lockers n = (\\<not> lockers (n - 1)))\"\nand h3 : \"last_opened = (GREATEST n. lockers n \\<and> (\\<forall> m > n. \\<not> lockers m))\"\nshows  \"last_opened = 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 1024 lockers in a row, numbered from 1 to 1024. The first locker is open, and starting with the second locker, each locker has the opposite state (open or closed) of the locker before it. What is the number of the last open locker? The final answer is 342."
    },
    "a_7": {
        "formal problem": "theorem\nfixes lockers :: \"nat \\<Rightarrow> bool\" and student :: \"nat \\<Rightarrow> nat \\<Rightarrow> nat\"\nassumes h0 : \"\\<forall>n. lockers n = False\"\nand h1 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> student n = (if n mod 2 = 0 then n else 0)\"\nand h2 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> (\\<forall>m. m \\<ge> 1 \\<and> m \\<le> 1024 \\<and> m > n \\<longrightarrow> student m = (if m mod 2 = 1 then m else 0))\"\nand h3 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> lockers (student n) = True\"\nand h4 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> (\\<forall>m. m \\<ge> 1 \\<and> m \\<le> 1024 \\<and> m > n \\<longrightarrow> lockers (student m) = False)\"\nshows  \"student 1024 = 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes lockers :: \"nat \\<Rightarrow> bool\" and student :: \"nat \\<Rightarrow> nat \\<Rightarrow> nat\"\nassumes h0 : \"\\<forall>n. lockers n = False\"\nand h1 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> student n = (if n mod 2 = 0 then n else 0)\"\nand h2 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> (\\<forall>m. m \\<ge> 1 \\<and> m \\<le> 1024 \\<and> m > n \\<longrightarrow> student m = (if m mod 2 = 1 then m else 0))\"\nand h3 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> lockers (student n) = True\"\nand h4 : \"\\<forall>n. n \\<ge> 1 \\<and> n \\<le> 1024 \\<longrightarrow> (\\<forall>m. m \\<ge> 1 \\<and> m \\<le> 1024 \\<and> m > n \\<longrightarrow> lockers (student m) = False)\"\nshows  \"student 1024 = 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a school, there are 1024 lockers, initially all closed. Students perform the following actions:\n\n1. Student 1 opens every locker.\n2. Student 2 closes every second locker.\n3. Student 3 changes the state (open to closed, or closed to open) of every third locker.\n4. Student 4 changes the state of every fourth locker.\n5. This continues until Student 1024.\n\nAfter all the students have completed their actions, find the number of the locker that Student 1024 changes. The final answer is 342."
    },
    "a_8": {
        "formal problem": "theorem\nfixes open_locker :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"\\<forall>n. n > 0 \\<and> n \\<le> 1024 \\<longrightarrow> ((n = 1) \\<or> (\\<exists>k. n = 2 * k))\"\nand h1 : \"\\<forall>n. n > 0 \\<and> n \\<le> 1024 \\<longrightarrow> ((open_locker n) \\<longleftrightarrow> (\\<exists>m. n = 2 * m))\"\nand h2 : \"\\<forall>n. n > 0 \\<and> n \\<le> 1024 \\<longrightarrow> (\\<forall>m. n = 2 * m \\<longrightarrow> open_locker (n - 1))\"\nshows  \"open_locker 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes open_locker :: \"nat \\<Rightarrow> bool\"\nassumes h0 : \"\\<forall>n. n > 0 \\<and> n \\<le> 1024 \\<longrightarrow> ((n = 1) \\<or> (\\<exists>k. n = 2 * k))\"\nand h1 : \"\\<forall>n. n > 0 \\<and> n \\<le> 1024 \\<longrightarrow> ((open_locker n) \\<longleftrightarrow> (\\<exists>m. n = 2 * m))\"\nand h2 : \"\\<forall>n. n > 0 \\<and> n \\<le> 1024 \\<longrightarrow> (\\<forall>m. n = 2 * m \\<longrightarrow> open_locker (n - 1))\"\nshows  \"open_locker 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a row of 1024 lockers, every locker is either open or closed. The rule is that a locker is open if and only if its number is an even number. The lockers are numbered from 1 to 1024. Is locker number 342 open?"
    },
    "a_9": {
        "formal problem": "theorem\nfixes open_lockers :: \"nat set\" and last_opened :: nat\nassumes h0 : \"open_lockers = {n. (\\<exists> k. n = 2 * k - 1) \\<or> (\\<exists> j. n = 2 * j)}\"\nand h1 : \"last_opened = (GREATEST n. n \\<in> open_lockers)\"\nshows  \"last_opened = 342\"",
        "formal solution": "(* ### Problem\n A bored student walks down a hall that contains a row of closed lockers, numbered $1$ to $1024$. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?\n The final Answer is 342\n ### Proof\n On his first pass, he opens all of the odd lockers.\n So there are only even lockers closed. Then he opens the lockers that are multiples of $4$, leaving only lockers $2 \\pmod{8}$ and $6 \\pmod{8}$. Then he goes ahead and opens all lockers $2 \\pmod {8}$, leaving lockers either $6 \\pmod {16}$ or $14 \\pmod {16}$.\n He then goes ahead and opens all lockers $14 \\pmod {16}$, leaving the lockers either $6 \\pmod {32}$ or $22 \\pmod {32}$. He then goes ahead and opens all lockers $6 \\pmod {32}$, leaving $22 \\pmod {64}$ or $54 \\pmod {64}$.\n He then opens $54 \\pmod {64}$, leaving $22 \\pmod {128}$ or $86 \\pmod {128}$. He then opens $22 \\pmod {128}$ and leaves $86 \\pmod {256}$ and $214 \\pmod {256}$. He then opens all $214 \\pmod {256}$, so we have $86 \\pmod {512}$ and $342 \\pmod {512}$, leaving lockers $86, 342, 598$, and $854$, and he is at where he started again.\n He then opens $86$ and $598$, and then goes back and opens locker number $854$, leaving locker number $\\boxed{342}$ untouched. He opens that locker.\n *)\n\ntheorem\nfixes open_lockers :: \"nat set\" and last_opened :: nat\nassumes h0 : \"open_lockers = {n. (\\<exists> k. n = 2 * k - 1) \\<or> (\\<exists> j. n = 2 * j)}\"\nand h1 : \"last_opened = (GREATEST n. n \\<in> open_lockers)\"\nshows  \"last_opened = 342\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Determine the value of the last opened locker, given that all open lockers have odd numbers or are multiples of 2. The final answer is 342."
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}