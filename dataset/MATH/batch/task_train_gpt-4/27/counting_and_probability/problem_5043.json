{
    "natural problem": "The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n",
    "natural solution": [
        "Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.",
        "Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.",
        "The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.",
        "From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.",
        "2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.",
        "3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.",
        "Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.",
        "So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.",
        "There are $7!=5040$ ways to randomly fill in the rest of the octahedron.",
        "So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$."
    ],
    "natural answer": "85",
    "a_0": {
        "formal problem": "theorem\nfixes p :: real\nassumes h0 : \"p = (m :: nat) / (n :: nat)\"\nand h1 : \"gcd m n = 1\"\nand h2 : \"m + n = 85\"\nand h3 : \"p = prob {octahedron | octahedron has non_consecutive_numbers}\"\nshows  \"m + n = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes p :: real\nassumes h0 : \"p = (m :: nat) / (n :: nat)\"\nand h1 : \"gcd m n = 1\"\nand h2 : \"m + n = 85\"\nand h3 : \"p = prob {octahedron | octahedron has non_consecutive_numbers}\"\nshows  \"m + n = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given a probability $p = \\frac{m}{n}$, where $m$ and $n$ are coprime natural numbers (i.e., their greatest common divisor is 1), and $m + n = 85$. The probability $p$ represents the probability of selecting an octahedron with non-consecutive numbers. Find the sum of $m$ and $n$. The final answer is 85."
    },
    "a_1": {
        "formal problem": "theorem\nfixes octahedron :: \"(int \\<Rightarrow> int) \\<Rightarrow> bool\"\nand P :: \"real\"\nassumes h0 : \"\\<forall> f. octahedron f = (bij_betw f {1, 2, 3, 4, 5, 6, 7, 8} {1, 2, 3, 4, 5, 6, 7, 8} \\<and> (\\<forall> a b. shares_edge a b \\<longrightarrow> \\<not> consecutive (f a) (f b)))\"\nand h1 : \"P = measure octahedron\"\nand h2 : \"P = m / n\"\nand h3 : \"coprime m n\"\nand h4 : \"m > 0\"\nand h5 : \"n > 0\"\nshows  \"m + n = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes octahedron :: \"(int \\<Rightarrow> int) \\<Rightarrow> bool\"\nand P :: \"real\"\nassumes h0 : \"\\<forall> f. octahedron f = (bij_betw f {1, 2, 3, 4, 5, 6, 7, 8} {1, 2, 3, 4, 5, 6, 7, 8} \\<and> (\\<forall> a b. shares_edge a b \\<longrightarrow> \\<not> consecutive (f a) (f b)))\"\nand h1 : \"P = measure octahedron\"\nand h2 : \"P = m / n\"\nand h3 : \"coprime m n\"\nand h4 : \"m > 0\"\nand h5 : \"n > 0\"\nshows  \"m + n = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider an octahedron with vertices labeled from 1 to 8. A bijective function $f$ is defined between the set of vertices and itself such that it does not map any two consecutive vertices to two vertices that share an edge. Let $P$ be the probability of choosing such a function. If $P$ can be expressed as a reduced fraction $\\frac{m}{n}$, where $m$ and $n$ are coprime positive integers, find the sum $m + n$. The final answer is 85."
    },
    "a_2": {
        "formal problem": "theorem\nfixes octahedron :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"octahedron 1 = 1\"\nand h1 : \"octahedron 2 = 2\"\nand h2 : \"octahedron 3 = 3\"\nand h3 : \"octahedron 4 = 4\"\nand h4 : \"octahedron 5 = 5\"\nand h5 : \"octahedron 6 = 6\"\nand h6 : \"octahedron 7 = 7\"\nand h7 : \"octahedron 8 = 8\"\nand h8 : \"distinct [octahedron 1, octahedron 2, octahedron 3, octahedron 4, octahedron 5, octahedron 6, octahedron 7, octahedron 8]\"\nand h9 : \"\\<forall>i j. 1 \\<le> i \\<and> i \\<le> 8 \\<and> 1 \\<le> j \\<and> j \\<le> 8 \\<and> adjacent i j \\<longrightarrow> \\<not> consecutive (octahedron i) (octahedron j)\"\nshows  \"probability (\\<lambda>x. x \\<in> {octahedron}) (\\<lambda>x. valid_octahedron x) = 17/40\"\nand \"85 = 17 + 40\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes octahedron :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"octahedron 1 = 1\"\nand h1 : \"octahedron 2 = 2\"\nand h2 : \"octahedron 3 = 3\"\nand h3 : \"octahedron 4 = 4\"\nand h4 : \"octahedron 5 = 5\"\nand h5 : \"octahedron 6 = 6\"\nand h6 : \"octahedron 7 = 7\"\nand h7 : \"octahedron 8 = 8\"\nand h8 : \"distinct [octahedron 1, octahedron 2, octahedron 3, octahedron 4, octahedron 5, octahedron 6, octahedron 7, octahedron 8]\"\nand h9 : \"\\<forall>i j. 1 \\<le> i \\<and> i \\<le> 8 \\<and> 1 \\<le> j \\<and> j \\<le> 8 \\<and> adjacent i j \\<longrightarrow> \\<not> consecutive (octahedron i) (octahedron j)\"\nshows  \"probability (\\<lambda>x. x \\<in> {octahedron}) (\\<lambda>x. valid_octahedron x) = 17/40\"\nand \"85 = 17 + 40\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider an octahedron with vertices numbered from 1 to 8. Each vertex is assigned a distinct number from 1 to 8 such that no two adjacent vertices have consecutive numbers. Find the probability of choosing a valid numbering of the vertices. The final answer is $\\frac{17}{40}$. Also, what is the sum of the numerator and the denominator of the probability? The final answer is 85."
    },
    "a_3": {
        "formal problem": "theorem\nfixes octahedron :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"bij octahedron\"\nand h1 : \"octahedron 1 = 1\"\nand h2 : \"octahedron 2 = 2\"\nand h3 : \"octahedron 3 = 3\"\nand h4 : \"octahedron 4 = 4\"\nand h5 : \"octahedron 5 = 5\"\nand h6 : \"octahedron 6 = 6\"\nand h7 : \"octahedron 7 = 7\"\nand h8 : \"octahedron 8 = 8\"\nand h9 : \"\\<forall>i j. i \\<noteq> j \\<and> 1 \\<le> i \\<and> i \\<le> 8 \\<and> 1 \\<le> j \\<and> j \\<le> 8 \\<longrightarrow> octahedron i \\<noteq> octahedron j\"\nand h10 : \"card {i. \\<exists> j. (i = octahedron (j + 1) \\<and> 1 \\<le> j \\<and> j \\<le> 7) \\<or> (i = octahedron (j - 1) \\<and> 2 \\<le> j \\<and> j \\<le> 8) \\<or> (i = octahedron 8 \\<and> j = 1)} = m\"\nand h11 : \"gcd m n = 1\"\nand h12 : \"n = 8 * 7 * 6 * 5 * 4 * 3 * 2\"\nshows  \"m + n = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes octahedron :: \"nat \\<Rightarrow> nat\"\nassumes h0 : \"bij octahedron\"\nand h1 : \"octahedron 1 = 1\"\nand h2 : \"octahedron 2 = 2\"\nand h3 : \"octahedron 3 = 3\"\nand h4 : \"octahedron 4 = 4\"\nand h5 : \"octahedron 5 = 5\"\nand h6 : \"octahedron 6 = 6\"\nand h7 : \"octahedron 7 = 7\"\nand h8 : \"octahedron 8 = 8\"\nand h9 : \"\\<forall>i j. i \\<noteq> j \\<and> 1 \\<le> i \\<and> i \\<le> 8 \\<and> 1 \\<le> j \\<and> j \\<le> 8 \\<longrightarrow> octahedron i \\<noteq> octahedron j\"\nand h10 : \"card {i. \\<exists> j. (i = octahedron (j + 1) \\<and> 1 \\<le> j \\<and> j \\<le> 7) \\<or> (i = octahedron (j - 1) \\<and> 2 \\<le> j \\<and> j \\<le> 8) \\<or> (i = octahedron 8 \\<and> j = 1)} = m\"\nand h11 : \"gcd m n = 1\"\nand h12 : \"n = 8 * 7 * 6 * 5 * 4 * 3 * 2\"\nshows  \"m + n = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a competition, there are 8 contestants numbered 1 to 8. Each round, a contestant will be paired with another contestant who they have not previously competed against. Let $m$ be the number of ways to pair all contestants so that the contestants compete against each other exactly once and let $n$ be the number of ways to order the contestants in a sequence. The greatest common divisor of $m$ and $n$ is 1, and $n = 8!$. Find the sum of $m$ and $n$. The final answer is 85."
    },
    "a_4": {
        "formal problem": "theorem\nfixes P :: \"rat\"\nassumes h0 : \"P = (\\<Sum> p | p permutes {1..8} \\<and> (\\<forall> i \\<in> {1..8}. (p i, p ((i mod 8) + 1)) \\<notin> ({(1, 2), (2, 1), (2, 3), (3, 2), (3, 4), (4, 3), (4, 5), (5, 4), (5, 6), (6, 5), (6, 7), (7, 6), (7, 8), (8, 7), (8, 1), (1, 8)})). card p)\"\nshows  \"P = 17 / 200\" and \"P.denominator + P.numerator = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes P :: \"rat\"\nassumes h0 : \"P = (\\<Sum> p | p permutes {1..8} \\<and> (\\<forall> i \\<in> {1..8}. (p i, p ((i mod 8) + 1)) \\<notin> ({(1, 2), (2, 1), (2, 3), (3, 2), (3, 4), (4, 3), (4, 5), (5, 4), (5, 6), (6, 5), (6, 7), (7, 6), (7, 8), (8, 7), (8, 1), (1, 8)})). card p)\"\nshows  \"P = 17 / 200\" and \"P.denominator + P.numerator = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There are 8 people sitting in a circle. They can't sit next to specific pairs of people, namely: (1, 2), (2, 1), (2, 3), (3, 2), (3, 4), (4, 3), (4, 5), (5, 4), (5, 6), (6, 5), (6, 7), (7, 6), (7, 8), (8, 7), (8, 1), (1, 8). Find the probability $P$ that they can sit in the circle without violating these constraints. The final answer is $\\frac{17}{200}$, and the sum of the numerator and denominator is $85$."
    },
    "a_5": {
        "formal problem": "theorem\nfixes P :: \"rat\"\nassumes h0 : \"P = (number_of_good_arrangements :: rat) / (number_of_total_arrangements :: rat)\"\nand h1 : \"number_of_good_arrangements \\<ge> 0\"\nand h2 : \"number_of_total_arrangements > 0\"\nand h3 : \"gcd (numerator P) (denominator P) = 1\"\nshows  \"numerator P + denominator P = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes P :: \"rat\"\nassumes h0 : \"P = (number_of_good_arrangements :: rat) / (number_of_total_arrangements :: rat)\"\nand h1 : \"number_of_good_arrangements \\<ge> 0\"\nand h2 : \"number_of_total_arrangements > 0\"\nand h3 : \"gcd (numerator P) (denominator P) = 1\"\nshows  \"numerator P + denominator P = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "In a certain situation, there are a number of good arrangements and a number of total arrangements. The probability of a good arrangement is given by the rational number $P$, where $P = \\frac{\\text{number of good arrangements}}{\\text{number of total arrangements}}$. It is known that the number of good arrangements is non-negative, and the number of total arrangements is positive. Also, the numerator and denominator of $P$ are relatively prime (i.e., their greatest common divisor is 1). Find the sum of the numerator and denominator of $P$ if their sum is 85."
    },
    "a_6": {
        "formal problem": "theorem\nfixes probability :: \"nat \\<Rightarrow> nat \\<Rightarrow> real\"\nassumes h0 : \"\\<forall> m n. m > 0 \\<and> n > 0 \\<and> gcd m n = 1 \\<longrightarrow> probability m n = m / n\"\nand h1 : \"probability 17 48\"\nshows  \"17 + 48 = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes probability :: \"nat \\<Rightarrow> nat \\<Rightarrow> real\"\nassumes h0 : \"\\<forall> m n. m > 0 \\<and> n > 0 \\<and> gcd m n = 1 \\<longrightarrow> probability m n = m / n\"\nand h1 : \"probability 17 48\"\nshows  \"17 + 48 = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Given a function `probability` that takes two positive coprime integers $m$ and $n$ as input and returns the fraction $\\frac{m}{n}$, find the sum of the two integers when $m = 17$ and $n = 48$. The final answer is $85$."
    },
    "a_7": {
        "formal problem": "theorem\nfixes octahedron :: \"int \\<Rightarrow> int set\"\nassumes h0 : \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 8 \\<longrightarrow> i \\<in> octahedron i\"\nand h1 : \"\\<forall>i. octahedron i \\<inter> octahedron (i + 1) = {}\"\nand h2 : \"octahedron 8 \\<inter> octahedron 1 = {}\"\nand h3 : \"relatively_prime m n\"\nand h4 : \"m / n = probability (\\<lambda> x. no_consecutive_faces x) (\\<lambda> x. x \\<in> octahedron)\"\nshows  \"m + n = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes octahedron :: \"int \\<Rightarrow> int set\"\nassumes h0 : \"\\<forall>i. 1 \\<le> i \\<and> i \\<le> 8 \\<longrightarrow> i \\<in> octahedron i\"\nand h1 : \"\\<forall>i. octahedron i \\<inter> octahedron (i + 1) = {}\"\nand h2 : \"octahedron 8 \\<inter> octahedron 1 = {}\"\nand h3 : \"relatively_prime m n\"\nand h4 : \"m / n = probability (\\<lambda> x. no_consecutive_faces x) (\\<lambda> x. x \\<in> octahedron)\"\nshows  \"m + n = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "An octahedron has 8 faces, numbered from 1 to 8. Consider a random event where no two consecutive faces are selected. If the probability of this event occurring can be expressed as a simplified fraction $\\frac{m}{n}$, where $m$ and $n$ are relatively prime integers, what is the sum of $m$ and $n$? The final answer is 85."
    },
    "a_8": {
        "formal problem": "theorem\nfixes octahedron :: \"(int \\<Rightarrow> int) \\<Rightarrow> bool\"\nand m n :: int\nassumes h0 : \"\\<forall> f. octahedron f \\<longleftrightarrow> (\\<forall> i. 1 \\<le> i \\<and> i \\<le> 8 \\<longrightarrow> (\\<exists>! j. f j = i))\"\nand h1 : \"\\<forall> f. octahedron f \\<longrightarrow> (\\<forall> i. 1 \\<le> i \\<and> i \\<le> 8 \\<longrightarrow> (\\<forall> j. 1 \\<le> j \\<and> j \\<le> 8 \\<and> adjacent i j \\<longrightarrow> f i + 1 \\<noteq> f j))\"\nand h2 : \"m = card {f. octahedron f}\"\nand h3 : \"n = fact 8\"\nand h4 : \"gcd m n = 1\"\nshows  \"m + n = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes octahedron :: \"(int \\<Rightarrow> int) \\<Rightarrow> bool\"\nand m n :: int\nassumes h0 : \"\\<forall> f. octahedron f \\<longleftrightarrow> (\\<forall> i. 1 \\<le> i \\<and> i \\<le> 8 \\<longrightarrow> (\\<exists>! j. f j = i))\"\nand h1 : \"\\<forall> f. octahedron f \\<longrightarrow> (\\<forall> i. 1 \\<le> i \\<and> i \\<le> 8 \\<longrightarrow> (\\<forall> j. 1 \\<le> j \\<and> j \\<le> 8 \\<and> adjacent i j \\<longrightarrow> f i + 1 \\<noteq> f j))\"\nand h2 : \"m = card {f. octahedron f}\"\nand h3 : \"n = fact 8\"\nand h4 : \"gcd m n = 1\"\nshows  \"m + n = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "Consider an octahedron with vertices labeled from 1 to 8. An octahedron is valid if each vertex has a unique label and no two adjacent vertices have consecutive labels. Let $m$ be the number of valid octahedra, and let $n$ be 8 factorial (the number of ways to assign labels to the vertices without constraints). It is given that the greatest common divisor of $m$ and $n$ is 1. Find the sum of $m$ and $n$. The final answer is 85."
    },
    "a_9": {
        "formal problem": "theorem\nfixes octahedron :: \"nat \\<Rightarrow> nat\"\nand prob :: \"real\"\nassumes h0 : \"bij octahedron\"\nand h1 : \"\\<forall>i. i \\<in> {1..8} \\<longrightarrow> octahedron i \\<in> {1..8}\"\nand h2 : \"\\<forall>i. i \\<in> {1..7} \\<longrightarrow> octahedron i \\<noteq> octahedron (i + 1)\"\nand h3 : \"octahedron 8 \\<noteq> octahedron 1\"\nand h4 : \"prob = (card {f. bij f \\<and> (\\<forall>i. i \\<in> {1..7} \\<longrightarrow> f i \\<noteq> f (i + 1)) \\<and> f 8 \\<noteq> f 1}) / (card {f. bij f})\"\nshows  \"prob = m / n \\<and> m + n = 85\"",
        "formal solution": "(* ### Problem\n The numbers $1, 2, 3, 4, 5, 6, 7,$ and $8$ are randomly written on the faces of a regular octahedron so that each face contains a different number. The probability that no two consecutive numbers, where $8$ and $1$ are considered to be consecutive, are written on faces that share an edge is $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$\n The final Answer is 85\n ### Proof\n Choose one face of the octahedron randomly and label it with $1$. There are three faces adjacent to this one, which we will call A-faces. There are three faces adjacent to two of the A-faces, which we will call B-faces, and one face adjacent to the three B-faces, which we will call the C-face.\n Clearly, the labels for the A-faces must come from the set $\\{3,4,5,6,7\\}$, since these faces are all adjacent to $1$. There are thus $5 \\cdot 4 \\cdot 3 = 60$ ways to assign the labels for the A-faces.\n The labels for the B-faces and C-face are the two remaining numbers from the above set, plus $2$ and $8$. The number on the C-face must not be consecutive to any of the numbers on the B-faces.\n From here it is easiest to brute force the $10$ possibilities for the $4$ numbers on the B and C faces: 2348 (2678): 8(2) is the only one not adjacent to any of the others, so it goes on the C-face. 4(6) has only one B-face it can go to, while 2 and 3 (7 and 8) can be assigned randomly to the last two.\n 2 possibilities here. 2358 (2578): 5 cannot go on any of the B-faces, so it must be on the C-face. 3 and 8 (2 and 7) have only one allowable B-face, so just 1 possibility here. 2368 (2478): 6(4) cannot go on any of the B-faces, so it must be on the C-face.\n 3 and 8 (2 and 7) have only one allowable B-face, so 1 possibility here. 2458 (2568): All of the numbers have only one B-face they could go to. 2 and 4 (6 and 8) can go on the same, so one must go to the C-face.\n Only 2(8) is not consecutive with any of the others, so it goes on the C-face. 1 possibility. 2378: None of the numbers can go on the C-face because they will be consecutive with one of the B-face numbers.\n So this possibility is impossible. 2468: Both 4 and 6 cannot go on any B-face. They cannot both go on the C-face, so this possibility is impossible. There is a total of $10$ possibilities. There are $3!=6$ permutations (more like \"rotations\") of each, so $60$ acceptable ways to fill in the rest of the octahedron given the $1$.\n There are $7!=5040$ ways to randomly fill in the rest of the octahedron.\n So the probability is $\\frac {60}{5040} = \\frac {1}{84}$. The answer is $\\boxed{85}$.\n *)\n\ntheorem\nfixes octahedron :: \"nat \\<Rightarrow> nat\"\nand prob :: \"real\"\nassumes h0 : \"bij octahedron\"\nand h1 : \"\\<forall>i. i \\<in> {1..8} \\<longrightarrow> octahedron i \\<in> {1..8}\"\nand h2 : \"\\<forall>i. i \\<in> {1..7} \\<longrightarrow> octahedron i \\<noteq> octahedron (i + 1)\"\nand h3 : \"octahedron 8 \\<noteq> octahedron 1\"\nand h4 : \"prob = (card {f. bij f \\<and> (\\<forall>i. i \\<in> {1..7} \\<longrightarrow> f i \\<noteq> f (i + 1)) \\<and> f 8 \\<noteq> f 1}) / (card {f. bij f})\"\nshows  \"prob = m / n \\<and> m + n = 85\"\n proof- \n  show ?thesis sledgehammer",
        "informal problem": "There is an octahedron with numbered vertices from 1 to 8. A bijection is a function that assigns each vertex to a unique number in the set {1, 2, 3, 4, 5, 6, 7, 8}. If we require that no two consecutive vertices (from 1 to 7) have the same number assigned to them and that vertex 8 is not assigned the same number as vertex 1, what is the probability of having such a bijection? Express the probability as a fraction m/n, where m and n are coprime and m + n = 85."
    },
    "level": "Level 5",
    "type": "Counting & Probability"
}